var cuppa={debug:false};var cu=cuppa;try{cuppa.script_path=document.currentScript.src.replace("cuppa.js","")}catch(err){}trace=function(b){try{console.log(b)}catch(a){}};cuppa.mergeObjects=function(b,g){if(!g){var f=b.shift();for(var c=0;c<b.length;c++){var e=b[c];for(var d in e){f[d]=e[d]}}return f}else{var a={};for(var c=0;c<b.length;c++){var e=b[c];for(var d in e){a[d]=e[d]}}return a}};cuppa.require=function(a,b){if(b){document.write('<link href="'+a+'" rel="stylesheet" type="text/css" />')}else{document.write('<script src="'+a+'" type="text/javascript" ><\/script>')}};cuppa.include=function(b){var c=document.getElementsByTagName("head")[0];var a=document.createElement("script");a.src=b;a.type="text/javascript";c.appendChild(a)};cuppa.uniqueInstance=function(d){if(d.unique==undefined){d.unique=cuppa.unique("instance")}if(d.unique===false){d.unique=d.instance}var b=cuppa.replace(d.element,d.instance,d.unique);b=cuppa.replace(b,"/"+d.instance+"/","/"+d.unique+"/");if(d.search&&d.replace){if($.isArray(search)){try{for(var a=0;a<d.search.length;a++){b=cuppa.replace(b,d.search[a],d.replace[a])}}catch(c){}}else{b=cuppa.replace(b,d.search,d.replace)}}b=$(b);if(d.name){$(b).attr("id",d.name)}if(d.id){$(b).attr("id",d.id)}if(d["class"]){$(b).addClass(d["class"])}return b};cuppa.instance=function(data){if(data.data==undefined){data.data={}}if(data.async==undefined){data.async=true}data.process=function(data){data.instance=data.template.replace(".","");data.element="";$("template").each(function(index,item){try{data.element=$(item.content).find(data.template)[0].outerHTML;return false}catch(err){}});if(data.unique==undefined){data.unique=cuppa.unique("instance")}data.html=data.object=data.result=cuppa.uniqueInstance(data)[0];if(data.zIndex==undefined){data.zIndex=cuppa.maxZIndex()+1}$(data.result).css("z-index",data.zIndex);if(data.append){$(data.append).append(data.result)}if(data.add){$(data.add).append(data.result)}if(data.replace){$(data.replace).html(data.result)}try{data.script=eval(data.unique)}catch(err){}data.html_base=data.element;if(data.script){data.script.instance=data;data.script.html=data.html;if(data.parent){data.script.parent=data.parent}data.script.state=new cuppa.state(data.html);data.html.instance=data;data.html.script=data.script;try{data.script.constructor(data.data)}catch(err){}try{data.script[data.unique](data.data)}catch(err){}}if(data.callback){data.callback(data.script)}if(data.onComplete){data.onComplete(data.script)}$(data).trigger("complete",[data.script])};if(data.url){if(!data.template){data.template="."+cuppa.getFileDescription(data.url).name}data.url_ref="template_"+cuppa.urlFriendly(data.url);if($("#"+data.url_ref).get(0)){data.process(data)}else{jQuery.ajax({url:data.url,type:"POST",data:data.data,async:data.async,success:function(result){if(!$("#"+data.url_ref).get(0)){$("body").append("<div id="+this.url_ref+" style='display:none'>"+result+"</div>")}this.process(this)}.bind(data)})}return data}else{if(data.template){data.process(data);return data.script}}};cuppa.state=function(a){this.items={};this.html=a;this.set=function(b,c){this.items.name=c;$(this.html).find("."+b).html(c)}};cuppa.contentData={};cuppa.content=function(a){return cuppa.setContent(a)};cuppa.setContent=function(data){if(data==undefined){data={}}if(data.load==undefined){data.load=true}if(data.name==undefined&&data.load){data.name="new_content"}if(data.name==undefined&&!data.load){data.name="#new_content"}if(data.data==undefined){data.data={}}if(data.duration==undefined){data.duration=0}if(data.delay==undefined){data.delay=0}if(data.preload==undefined){data.preload=false}if(data.append==undefined){data.append=true}if(data.ease==undefined&&data.load==true){data.ease=Cubic.easeOut}else{data.ease=Cubic.easeIn}if(data.display==undefined){data.display="block"}if(data.executeFunction==undefined){data.executeFunction=null}if(data.uniqueClass==undefined){data.uniqueClass=data.name+"_"+Math.ceil(Math.random()*9999999)}if(data.personalClass==undefined){data.personalClass=""}if(data.returnUniqueClass==undefined){data.returnUniqueClass=false}if(data.finishDelay==undefined){data.finishDelay=0.2}if(data.auto_check_time==undefined){data.auto_check_time=0}if(data.zIndex==undefined){data.zIndex=cuppa.maxZIndex()+1}if(data.position==undefined){data.position="last"}if(data.async==undefined){data.async=true}data.data.uniqueClass=data.uniqueClass;cuppa.contentData=data;if(data.load){if(data.url==undefined){return}var objContent=document.createElement("div");jQuery(objContent).attr("id",data.name);jQuery(objContent).addClass(data.name);jQuery(objContent).addClass(data.uniqueClass);jQuery(objContent).addClass(data.personalClass);jQuery(objContent).css("opacity",0);jQuery(objContent).css("display","none");if(data.zIndex){jQuery(objContent).css("z-index",data.zIndex)}var loadObject={};loadObject.type="POST";loadObject.url=data.url;loadObject.data=data.data;loadObject.async=data.async;loadObject.success=function(result){jQuery(objContent).append(result);if(data.preload){jQuery(objContent).bind("complete",function(){jQuery(objContent).unbind("complete");jQuery(objContent).css("opacity",0);if(data.position){jQuery(objContent).css("position",data.position)}jQuery(objContent).css("display",data.display);TweenMax.to(objContent,data.duration,{delay:data.delay,alpha:1,ease:data.ease,onComplete:Execute_function})});cuppa.loader(data.finishDelay,objContent,data.auto_check_time)}else{jQuery(objContent).trigger("complete");jQuery(objContent).css("opacity",0);if(data.position){jQuery(objContent).css("position",data.position)}TweenMax.to(objContent,data.duration,{delay:data.delay+0.1,alpha:1,ease:data.ease,onComplete:Execute_function});jQuery(objContent).css("display",data.display)}};loadObject.error=function(result){jQuery(objContent).trigger("error")};objContent.ajax=jQuery.ajax(loadObject);function tu_ShowContent(){if(data.insideOf){if(data.append){jQuery(data.insideOf).append(objContent)}else{jQuery(data.insideOf).html(objContent)}var content_height=jQuery(objContent).css("height");jQuery(objContent).css("height","0px");jQuery(objContent).delay(data.delay).animate({height:content_height},data.duration,data.ease)}else{if(data.beforeOf){jQuery(objContent).insertBefore(jQuery(data.beforeOf));var content_height=jQuery(objContent).css("height");jQuery(objContent).css("height","0px");jQuery(objContent).delay(data.delay).animate({height:content_height},data.duration,data.ease)}else{if(data.afterOf){jQuery(objContent).insertAfter(jQuery(data.afterOf));var content_height=jQuery(objContent).css("height");jQuery(objContent).css("height","0px");jQuery(objContent).delay(data.delay).animate({height:content_height},data.duration,data.ease)}else{if(data.prepend){jQuery(data.prepend).prepend(objContent)}else{jQuery("body").append(objContent)}}}}}tu_ShowContent();function Execute_function(){if(!data.executeFunction){return}data.executeFunction=data.executeFunction.split(",");for(var i in data.executeFunction){try{eval(data.executeFunction[i]+"('"+data.uniqueClass+"')")}catch(err){}}}if(data.returnUniqueClass){return{object:objContent,"class":data.uniqueClass}}else{return objContent}}else{var contentToRemove;if(data.position=="last"){contentToRemove=jQuery(data.name).last()}else{if(data.position=="first"){contentToRemove=jQuery(data.name).first()}else{contentToRemove=jQuery(data.name)}}try{TweenMax.to(contentToRemove,data.duration,{delay:data.delay,ease:data.ease,opacity:0,onComplete:function(){jQuery(contentToRemove).remove();jQuery("body").trigger("removed")}})}catch(err){}return null}};cuppa.preloadContent=function(data){if(data==undefined){data={}}if(data.load==undefined){data.load=true}if(data.name==undefined&&data.load){data.name="new_content"}if(data.name==undefined&&!data.load){data.name=".new_content"}if(data.data==undefined){data.data={}}if(data.duration==undefined){data.duration=0}if(data.delay==undefined){data.delay=0}if(data.display==undefined){data.display="block"}if(data.preload==undefined){data.preload=true}if(data.executeFunction==undefined){data.executeFunction=null}if(data.uniqueClass==undefined){data.uniqueClass=data.name+"_"+Math.ceil(Math.random()*999999)}if(data.personalClass==undefined){data.personalClass=""}if(data.returnUniqueClass==undefined){data.returnUniqueClass=false}if(data.finishDelay==undefined){data.finishDelay=0.2}if(data.auto_check_time==undefined){data.auto_check_time=0}if(data.async==undefined){data.async=true}data.data.uniqueClass=data.uniqueClass;if(data.load){if(data.url==undefined){return}var objContent=document.createElement("div");jQuery(objContent).attr("id",data.name);jQuery(objContent).attr("class",data.name);jQuery(objContent).addClass(data.uniqueClass);jQuery(objContent).addClass(data.personalClass);if(data.position){jQuery(objContent).css("position",data.position)}jQuery(objContent).css("display",data.display);var loadObject={};loadObject.type="POST";loadObject.url=data.url;loadObject.data=data.data;loadObject.async=data.async;loadObject.success=function(result){jQuery(objContent).append(result);if(data.preload){cuppa.loader(data.finishDelay,objContent,data.auto_check_time)}else{jQuery(objContent).trigger("complete")}};loadObject.error=function(result){jQuery(objContent).trigger("error")};objContent.ajax=jQuery.ajax(loadObject);function Execute_function(){if(!data.executeFunction){return}data.executeFunction=data.executeFunction.split(",");for(var i in data.executeFunction){try{eval(data.executeFunction[i]+"('"+data.uniqueClass+"')")}catch(err){}}}function addedToDom(node){if(!node.parentNode||node.parentNode.nodeType===11){TweenMax.delayedCall(0.5,addedToDom,[node])}else{TweenMax.killDelayedCallsTo(addedToDom);jQuery(objContent).trigger("added_to_dom");Execute_function()}}TweenMax.delayedCall(0.5,addedToDom,[objContent]);addedToDom(objContent);if(data.returnUniqueClass){return{object:objContent,"class":data.uniqueClass}}else{return objContent}}else{var contentToRemove=jQuery(data.name);try{jQuery(contentToRemove).delay(data.delay).animate({opacity:0},data.duration,function(){jQuery(contentToRemove).remove();jQuery("body").trigger("removed")})}catch(err){}return null}};cuppa.loader=function(j,h,m,n){var b=null;if(!j){j=200}else{j=j*1000}if(m){m=m*1000}if(!h){h="body"}var k=jQuery(h).find("img").get();var e=jQuery(h).find("*");for(var f=0;f<e.length;f++){if(!jQuery(e[f]).is("img")){var a=jQuery(e[f]).css("background-image");a=cuppa.replace(a,"url(","");a=cuppa.replace(a,"(","");a=cuppa.replace(a,")","");a=cuppa.replace(a,'"',"");a=cuppa.replace(a,"none","");a=cuppa.trim(a);if(a.search("gradient")!=-1){a=""}if(a){var d=document.createElement("img");d.src=a;k.push(d)}}}var o=0;for(var f=0;f<k.length;f++){if(jQuery.trim(jQuery(k[f]).attr("src"))){o++}}if(!o){jQuery(h).trigger("complete");return}var c=0;jQuery(h).trigger("init",[c,o]);for(var f=0;f<k.length;f++){jQuery(k[f]).bind("load",g);jQuery(k[f]).bind("error",l);if(jQuery(k[f]).height()){jQuery(k[f]).trigger("load")}}function g(p){c++;jQuery(h).trigger("progress",[c,o]);if(c>=o){setTimeout(function(){jQuery(h).trigger("complete");if(n){n()}},j)}else{if(b){clearTimeout(b);b=setTimeout(function(){jQuery(h).trigger("complete");jQuery(h).unbind("complete");if(n){n()}},m)}}}function l(q){try{console.log("Error to load: "+jQuery(this).attr("src"))}catch(p){}c++;jQuery(h).trigger("progress",[c,o]);if(c>=o){setTimeout(function(){jQuery(h).trigger("complete");if(n){n()}},j)}else{if(b){clearTimeout(b);b=setTimeout(function(){jQuery(h).trigger("complete");jQuery(h).unbind("complete");if(n){n()}},m)}}}if(m){b=setTimeout(function(){jQuery(h).trigger("complete");jQuery(h).unbind("complete");if(n){n()}},m)}};cuppa.blockade=function(c){if(c==undefined){c={}}if(c.load==undefined){c.load=true}if(c.name==undefined&&c.load){c.name="blockade"}if(c.name==undefined&&!c.load){c.name=".blockade"}if(c.duration==undefined){c.duration=0}if(c.delay==undefined){c.delay=0}if(c.autoDeleteContent==undefined){c.autoDeleteContent=""}if(c.opacity==undefined){c.opacity=1}if(c.target==undefined){c.target="body"}if(c.uniqueClass==undefined){c.uniqueClass=c.name+"_"+Math.ceil(Math.random()*9999999)}if(c.personalClass==undefined){c.personalClass=""}if(c.ease==undefined&&c.load==true){c.ease=Cubic.easeInOut}else{c.ease=Cubic.easeIn}if(c.zIndex==undefined){c.zIndex=cuppa.maxZIndex()+1}if(c.position==undefined){c.position="last"}if(c.load){var d=document.createElement("div");d.id=c.name;jQuery(d).addClass("blockade");jQuery(d).addClass(c.name);jQuery(d).addClass(c.uniqueClass);jQuery(d).addClass(c.personalClass);jQuery(d).css("opacity",0);if(c.zIndex){jQuery(d).css("z-index",c.zIndex)}TweenMax.to(d,c.duration,{delay:c.delay,alpha:c.opacity,ease:c.ease});if(c.insideOf){jQuery(c.insideOf).append(d)}else{if(c.beforeOf){jQuery(d).insertBefore(jQuery(c.beforeOf))}else{if(c.afterOf){jQuery(d).insertAfter(jQuery(c.afterOf))}else{if(c.prepend){jQuery(c.prepend).prepend(d)}else{jQuery(c.target).append(d)}}}}if(c.autoDeleteContent){jQuery(d).bind("click",function(){if(!jQuery(c.autoDeleteContent).is("div")){return}jQuery(d).unbind("click");var e=jQuery(c.autoDeleteContent);jQuery(e).stop();jQuery(d).stop();cuppa.setContent({load:false,name:e,duration:c.duration});cuppa.blockade({load:false,name:"."+c.uniqueClass,duration:c.duration})})}return d}else{var a;if(c.position=="last"){a=jQuery(c.name).last()}else{if(c.position=="first"){a=jQuery(c.name).first()}else{a=jQuery(c.name)}}try{TweenMax.to(a,c.duration,{delay:c.delay,alpha:0,ease:c.ease,onComplete:function(){jQuery(a).remove()}})}catch(b){}return null}};cuppa.blockadeScreen=function(a){if(a==undefined){a=true}if(a){cuppa.blockade({name:"blockade_screen",uniqueClass:"blocakde_transparent"})}else{cuppa.blockade({load:false,name:".blockade_screen",position:"all",delay:0.4})}};cuppa.noscroll=function(a){if(a==undefined){a=true}if(a){jQuery("body").addClass("noscroll")}else{jQuery("body").removeClass("noscroll")}};cuppa.charger=function(c){if(c==undefined){c={}}if(c.load==undefined){c.load=true}if(c.name==undefined&&c.load){c.name="charger_small"}if(c.name==undefined&&!c.load&&!c.removeAll){c.name="#charger_small"}if(c.name==undefined&&!c.load&&c.removeAll){c.name=".charger_small"}if(c.duration==undefined){c.duration=0}if(c.delay==undefined){c.delay=0}if(c.target==undefined){c.target="body"}if(c.uniqueClass==undefined){c.uniqueClass=c.name+"_"+Math.ceil(Math.random()*999999)}if(c.personalClass==undefined){c.personalClass=""}if(c.load){charger=document.createElement("div");charger.id=c.name;jQuery(charger).addClass(c.name);jQuery(charger).addClass(c.personalClass);jQuery(charger).addClass(c.uniqueClass);jQuery(charger).css("opacity",0);jQuery(charger).css("display","block");if(c.zIndex){jQuery(charger).css("z-index",c.zIndex)}TweenMax.to(charger,c.duration,{delay:c.delay,alpha:1});jQuery(c.target).append(charger);return charger}else{var a;if(c.last){a=jQuery(c.name).last()}else{if(c.first){a=jQuery(c.name).first()}else{a=jQuery(c.name)}}try{TweenMax.to(a,c.duration,{delay:c.delay,alpha:0,onComplete:function(){jQuery(a).remove()}})}catch(b){}return null}};cuppa.shareObject=function(a){jQuery(cuppa).trigger("share",[a])};cuppa.globalData={};cuppa.setGlobalData=function(b,a){if(a==undefined){a="default"}cuppa.globalData[a]=b};cuppa.getGlobalData=function(b,a){if(a==undefined){a=true}if(b==undefined){b="default"}var d="";try{d=cuppa.globalData[b]}catch(c){}try{if(a){delete cuppa.globalData[b]}}catch(c){}return d};cuppa.scroll=function(d,a,c,e,b){this.bar=jQuery(d);jQuery(this.bar)[0].class_reference=jQuery(this.bar)[0].scroll=this;this.track=jQuery(a);jQuery(this.track)[0].class_reference=jQuery(this.track)[0].scroll=this;this.area=jQuery(this.bar).parent();jQuery(this.area)[0].class_reference=jQuery(this.area)[0].scroll=this;this.axis=c;if(!this.axis){this.axis="y"}this.positionScroll;this.positionTrack;this.wheelDisplacement=(b)?b:15;this.disableWheelPropagation=(e)?e:false;this.recorder_position=0;this.auto_hide=false;this.auto_size=true;this.blockade_scrolls=false;this.mouseWheelDisabled=false;jQuery(this.bar).draggable({disabled:false,axis:c,scroll:false,containment:a,stop:function(){this.class_reference.ScrollEnd()}}).unbind("drag").bind("drag",function(){this.class_reference.moveScroll()});jQuery(this.bar).css("top","0px").css("left","0px");this.moveScroll=function(){this.positionTrack=jQuery(this.track).position();var f=(parseFloat(jQuery(this.bar).css("left"))-this.positionTrack.left)/(parseFloat(jQuery(this.track).css("width"))-parseFloat(jQuery(this.bar).css("width")));var g=(parseFloat(jQuery(this.bar).css("top"))-this.positionTrack.top)/(parseFloat(jQuery(this.track).css("height"))-parseFloat(jQuery(this.bar).css("height")));if(f==NaN||f===Infinity){f=0}if(g==NaN||g==Infinity){g=0}if(f>0.99){f=1}if(g>0.99){g=1}jQuery(this).trigger("change",[f,g]);jQuery(this.bar).trigger("change",[f,g]);jQuery(this.track).trigger("change",[f,g]);if(this.area){jQuery(this.area).trigger("change",[f,g])}this.recorder_position=this.getPosition()};this.ScrollEnd=function(){this.positionTrack=jQuery(this.track).position();var f=(parseFloat(jQuery(this.bar).css("left"))-this.positionTrack.left)/(parseFloat(jQuery(this.track).css("width"))-parseFloat(jQuery(this.bar).css("width")));var g=(parseFloat(jQuery(this.bar).css("top"))-this.positionTrack.top)/(parseFloat(jQuery(this.track).css("height"))-parseFloat(jQuery(this.bar).css("height")));if(f==NaN||f===Infinity){f=0}if(g==NaN||g==Infinity){g=0}jQuery(this).trigger("end",[f,g]);jQuery(this.bar).trigger("end",[f,g]);jQuery(this.track).trigger("end",[f,g]);if(this.area){jQuery(this.area).trigger("end",[f,g])}this.recorder_position=this.getPosition()};jQuery(a).mousedown(function(f){this.class_reference.onMouseDown(f)});this.onMouseDown=function(f){this.positionScroll=jQuery(this.area).offset();this.positionTrack=jQuery(this.track).position();var h=f.pageX-this.positionScroll.left-this.positionTrack.left;var g=f.pageY-this.positionScroll.top-this.positionTrack.top;if(this.axis.search("x")!=-1){var k=h+this.positionTrack.left-jQuery(this.bar).width()*0.5;if(k<0+this.positionTrack.left){k=this.positionTrack.left}if(k>(this.positionTrack.left+jQuery(this.track).width()-jQuery(this.bar).width())){k=(this.positionTrack.left+jQuery(this.track).width()-jQuery(this.bar).width())}jQuery(this.bar).css("left",k)}if(this.axis.search("y")!=-1){var j=g+this.positionTrack.top-jQuery(this.bar).height()*0.5;if(j<0+this.positionTrack.top){j=this.positionTrack.top}if(j>(this.positionTrack.top+jQuery(this.track).height()-jQuery(this.bar).height())){j=(this.positionTrack.top+jQuery(this.track).height()-jQuery(this.bar).height())}jQuery(this.bar).css("top",j)}this.moveScroll();this.ScrollEnd();jQuery(this).trigger("init");jQuery(this.bar).trigger("init");jQuery(this.track).trigger("init")};this.scrollResizeChange=function(){this.setPosition(this.recorder_position.y);jQuery(this).trigger("scroll_resize");jQuery(this.bar).trigger("scroll_resize");jQuery(this.track).trigger("scroll_resize");if(this.area){jQuery(this.area).trigger("scroll_resize")}};this.lastHeight=jQuery(this.area).height();this.ChangeHeight=function(g){var f=g.data[0];if(f.lastHeight!=jQuery(f.area).height()){f.lastHeight=jQuery(f.area).height();f.scrollResizeChange()}};jQuery(window).unbind("resize",this.ChangeHeight).bind("resize",[this],this.ChangeHeight);this.setPosition=function(f,g){if(f<0){f=0}if(f>0.99){f=1}if(g==undefined){g=0}if(this.axis.search("y")!=-1){var h=(jQuery(this.area).height()-jQuery(this.bar).height())*f;TweenMax.to(this.bar,g,{top:h,ease:Cubic.easeInOut,onCompleteParams:[this],onComplete:function(k){k.getPosition()}})}if(this.axis.search("x")!=-1){var j=(jQuery(this.area).width()-jQuery(this.bar).width())*f;TweenMax.to(this.bar,g,{left:j,ease:Cubic.easeInOut,onCompleteParams:[this],onComplete:function(k){k.getPosition()}})}};this.getPosition=function(){var g={};this.positionTrack=jQuery(this.track).position();var f=(parseFloat(jQuery(this.bar).css("left"))-this.positionTrack.left)/(parseFloat(jQuery(this.track).css("width"))-parseFloat(jQuery(this.bar).css("width")));var h=(parseFloat(jQuery(this.bar).css("top"))-this.positionTrack.top)/(parseFloat(jQuery(this.track).css("height"))-parseFloat(jQuery(this.bar).css("height")));if(f==NaN||f===Infinity){f=0}else{if(f>=1){f=1}}if(h==NaN||h==Infinity){h=0}else{if(h>=0.99){h=1}}g={x:f,y:h};this.recorder_position=g;return g};this.autoHide=function(g,f){if(g==undefined){g=true}this.auto_hide=g;if(f==undefined){f=0}if(!this.content){return}if(g){jQuery(window).bind("resize",[this],this.onSize);TweenMax.delayedCall(f,this.onSize,[null,this])}else{jQuery(window).unbind("resize",this.onSize)}};this.onSize=function(n,o){this.scroll=(n)?n.data[0]:o;if(this.scroll.axis.search("y")!=-1){var l=cuppa.dimentions(this.scroll.content.area);var j=l.scrollHeight;var g=l.height3;if(this.scroll.content.area=="body"){g=jQuery(window).height()}try{var s=jQuery(this.scroll.content.area).get(0).scrollHeight;var p=jQuery(this.scroll.content.area).outerHeight()}catch(h){return}if(j>g){jQuery(this.scroll.area).css({display:"block",opacity:1});this.scroll.mouseWheelDisabled=false}else{jQuery(this.scroll.area).css({display:"none",opacity:0});this.scroll.mouseWheelDisabled=true}if(this.scroll.auto_size){var k=cuppa.dimentions(this.scroll.area);var q=(g/j)*k.height2;if(q<20){q=20}jQuery(this.scroll.bar).height(q)}}if(this.scroll.axis.search("x")!=-1){var m=jQuery(this.scroll.content.area).get(0).scrollWidth;var f=jQuery(this.scroll.content.area).outerWidth();if(m>f){jQuery(this.scroll.area).css("display","block");this.scroll.mouseWheelDisabled=false}else{jQuery(this.scroll.area).css("display","none");this.scroll.mouseWheelDisabled=true}if(this.scroll.auto_size){var r=(f/m)*jQuery(this.scroll.area).width();if(r<20){r=20}jQuery(this.scroll.bar).width(r)}}};if(cuppa.isTouch()){jQuery(this.area).css("display","none")}this.setContent=function(k,g,l,f,j){if(f==undefined){f=true}this.auto_hide=f;$(k)[0].scroll=this;var h={};h.target=k;h.area=k;h.y=(l==undefined)?true:l;h.x=(g==undefined)?false:g;h.only_mousewheel_activated=j;this.content=h;this.contentConfiguration();if(f){this.autoHide()}if(cuppa.isTouch()){jQuery(h.area).css("overflow","auto")}};this.contentConfiguration=function(){if(!this.content){return}if(!this.content.only_mousewheel_activated){jQuery(this).unbind("change").bind("change",function(g,f,h){this.autoMoveContent(g,f,h)});jQuery(this.content.area).css("cursor","default")}if(this.axis.search("y")!=-1){cuppa.mousewheel(this.content.target,function(m){var g=m.data[0];var k=cuppa.statusScrollPercent(g.content.target);try{if(g.blockade_scrolls){m.preventDefault()}}catch(j){}if(g.mouseWheelDisabled){return}var n=0;if(m.originalEvent.detail){n=m.originalEvent.detail}if(m.originalEvent.deltaY){n=m.originalEvent.deltaY*-1}if(m.originalEvent.wheelDelta){n=m.originalEvent.wheelDelta*-1}var l=(n<0)?1:-1;try{m.stopPropagation();m.preventDefault()}catch(j){}var f=jQuery(g.bar).position().top-g.wheelDisplacement*l;var h=jQuery(g.track).position();if(f>(h.top+jQuery(g.track).height()-jQuery(g.bar).height())){f=(h.top+jQuery(g.track).height()-jQuery(g.bar).height())}if(f<0){f=0}if(!e){jQuery(d).css("top",f);g.moveScroll();g.ScrollEnd()}jQuery(this).trigger("wheel",[l]);jQuery(m.data[0].bar).trigger("wheel",[l]);jQuery(m.data[0].track).trigger("wheel",[l]);if(m.data[0].area){jQuery(m.data[0].area).trigger("wheel",[l])}},[this])}else{jQuery(this.content.target).unbind("mousewheel").bind("mousewheel",[this],function(l,k){try{l.stopPropagation();l.preventDefault()}catch(j){}var g=l.data[0];var f=jQuery(g.bar).position().left-g.wheelDisplacement*k;var h=jQuery(g.track).position();if(f>(h.left+jQuery(g.track).width()-jQuery(g.bar).width())){f=(h.left+jQuery(g.track).width()-jQuery(g.bar).width())}if(f<0){f=0}if(!e){jQuery(d).css("left",f);g.moveScroll();g.ScrollEnd()}jQuery(this).trigger("wheel",[k]);jQuery(d).trigger("wheel",[k]);jQuery(a).trigger("wheel",[k]);if(area){jQuery(area).trigger("wheel",[k])}})}};this.rollOutHide=function(f){if(f==undefined){f=true}if(f){jQuery(this.content.area).unbind("mouseenter",this.showBar).bind("mouseenter",[this],this.showBar);jQuery(this.content.area).unbind("mouseleave",this.hideBar).bind("mouseleave",[this],this.hideBar);jQuery(this.area).unbind("mouseenter",this.showBar).bind("mouseenter",[this],this.showBar);jQuery(this.area).unbind("mouseleave",this.hideBar).bind("mouseleave",[this],this.hideBar)}else{jQuery(this.content.area).unbind("mouseenter",this.showBar);jQuery(this.content.area).unbind("mouseleave",this.hideBar);jQuery(this.area).unbind("mouseenter",this.showBar);jQuery(this.area).unbind("mouseleave",this.hideBar);this.showBar()}};this.showBar=function(g){var f=this;if(g){f=g.data[0]}TweenMax.to(f.area,0.4,{alpha:1,ease:Cubic.easeIn})};this.hideBar=function(h,f){if(f==undefined){f=0}var g=this;if(h){g=h.data[0]}TweenMax.to(g.area,0.4,{delay:f,alpha:0,ease:Cubic.easeIn})};this.autoMoveContent=function(g,f,h){cuppa.moveContent(this.content.target,this.content.x,this.content.y,f,h,this.content.duration,this.content.ease,true)};return this};cuppa.scrollTouch=function(b,c,a){this.touchObject=jQuery(b)[0].touchObject=this;this.init_scroll=0;this.init_data=0;this.current_data=0;this.array_data=null;this.fade=c;this.mouseEvents=(a)?true:false;if(b=="body"){jQuery(document).bind("touchmove",this.touchObject.documentPropagation)}this.onMouseDown=function(d){TweenMax.killTweensOf(b);this.touchObject.init_scroll=cuppa.statusScrollPixel(b);this.touchObject.init_data=(d.pageY!=undefined)?{x:d.clientX,y:d.clientY}:{x:d.originalEvent.touches[0].clientX,y:d.originalEvent.touches[0].clientY};this.touchObject.array_data=[{x:0,y:0,realX:this.touchObject.init_data.x,realY:this.touchObject.init_data.y}];jQuery(b).bind("touchmove",this.touchObject.onMouseMove);jQuery(b).bind("touchend",this.touchObject.onMouseUp);jQuery(document).bind("touchmove",this.touchObject.documentPropagation);if(this.touchObject.mouseEvents){jQuery(b).bind("mousemove",this.touchObject.onMouseMove);jQuery(b).bind("mouseup",this.touchObject.onMouseUp);jQuery(b).bind("mouseleave",this.touchObject.onMouseUp)}};jQuery(b).bind("touchstart",this.onMouseDown).bind("mousedown",this.onMouseDown);this.onMouseMove=function(g){TweenMax.killTweensOf(b);try{g.stopPropagation();g.preventDefault()}catch(d){}this.touchObject.current_data=(g.pageY!=undefined)?{x:g.clientX,y:g.clientY}:{x:g.originalEvent.touches[0].clientX,y:g.originalEvent.touches[0].clientY};var f={x:this.touchObject.init_data.x-this.touchObject.current_data.x,y:this.touchObject.init_data.y-this.touchObject.current_data.y};var h={};h.x=this.touchObject.current_data.x-this.touchObject.array_data[this.touchObject.array_data.length-1].realX;h.x=h.x*-1;h.y=this.touchObject.current_data.y-this.touchObject.array_data[this.touchObject.array_data.length-1].realY;h.y=h.y*-1;h.realY=this.touchObject.current_data.y;h.realX=this.touchObject.current_data.x;this.touchObject.array_data.push(h);if(this.touchObject.array_data.length>5){this.touchObject.array_data.shift()}cuppa.moveContent(b,false,true,0,this.touchObject.init_scroll.y+f.y)};this.onMouseUp=function(d){TweenMax.killTweensOf(b);jQuery(b).unbind("touchmove",this.touchObject.onMouseMove);jQuery(b).unbind("touchend",this.touchObject.onMouseUp);jQuery(b).unbind("mousemove",this.touchObject.onMouseMove);jQuery(b).unbind("mouseup",this.touchObject.onMouseUp);jQuery(b).unbind("mouseleave",this.touchObject.onMouseUp);if(b!="body"){jQuery(document).unbind("touchmove",this.touchObject.documentPropagation)}if(c){this.touchObject.fade(b)}};this.documentPropagation=function(d){d.preventDefault()};this.fade=function(h){TweenMax.killTweensOf(h);var e={x:0,y:0};for(i=0;i<this.touchObject.array_data.length;i++){if(Math.abs(this.touchObject.array_data[i].x)>Math.abs(e.x)){e.x=this.touchObject.array_data[i].x}if(Math.abs(this.touchObject.array_data[i].y)>Math.abs(e.y)){e.y=this.touchObject.array_data[i].y}}var g=1.2;var d=cuppa.statusScrollPixel(h);var f={x:0,y:d.y+e.y*20};cuppa.moveContent(h,false,true,0,f.y,g,Cubic.easeOut)};this.destroy=function(){jQuery(b).unbind("touchstart",this.onMouseDown).unbind("mousedown",this.onMouseDown);jQuery(b).unbind("touchmove",this.touchObject.onMouseMove);jQuery(b).unbind("touchend",this.touchObject.onMouseUp);jQuery(b).unbind("mousemove",this.touchObject.onMouseMove);jQuery(b).unbind("mouseup",this.touchObject.onMouseUp);jQuery(b).unbind("mouseleave",this.touchObject.onMouseUp);jQuery(document).unbind("touchmove",this.touchObject.documentPropagation)};return this};cuppa.moveContent=function(j,g,f,k,h,d,c,a,m){area=j;k=String(k);h=String(h);if(!g){g=false}if(!f){f=false}if(!k){k="0"}if(!h){h="0"}if(d==undefined){d=0}if(!c){c=Linear.easeNone}if(!j||$(j).is("body")){j=document}if(area=="body"||$(area).is("body")){area=""}if(!area&&!a){area="html, body";if(a&&g){k=(jQuery(j).width()-jQuery(area).width())*k}if(a&&f){h=(jQuery(j).height()-jQuery(area).height())*h}}else{if(!area&&a){area=window;if(a&&g){k=(jQuery(j).width()-jQuery(area).width())*k}if(a&&f){h=(jQuery(j).height()-jQuery(area).height())*h}area="html, body"}else{if(j==area){if(a&&g){k=(jQuery(j).prop("scrollWidth")-jQuery(area).width())*k}if(a&&f){h=(jQuery(j).prop("scrollHeight")-jQuery(area).height())*h}}else{if(a&&g){k=(jQuery(j).width()-jQuery(area).width())*k}if(a&&f){h=(jQuery(j).height()-jQuery(area).height())*h}}}}var e={x:k,y:h};if(m){return e}jQuery(area).stop(h);if(g&&f){TweenMax.to(area,d,{scrollLeft:k,scrollTop:h,ease:c,onUpdate:l,onComplete:b})}else{if(g){TweenMax.to(area,d,{scrollLeft:k,ease:c,onUpdate:l,onComplete:b})}else{if(f){TweenMax.to(area,d,{scrollTop:h,ease:c,onUpdate:l,onComplete:b})}}}function l(){var n=cuppa.statusScrollPercent(area);if(f&&!n.y){return}if(g&&!n.x){return}}function b(){var n=cuppa.statusScrollPercent(area);if(f&&!n.y){return}if(g&&!n.x){return}}return e};cuppa.moveScroll=function(d,f,e,b,a,c,j){var h=true,g=true;if(f==undefined||f==null||f==-1){h=false}if(e==undefined||e==null||e==-1){g=false}return cuppa.moveContent(d,h,g,f,e,b,a,c,j)};cuppa.eventGroups=[];cuppa.addEventListener=function(c,f,b,g,e){cuppa.removeEventListener(c,f,b,g);if(!g){g="default"}if(e==undefined){e=null}var a=cuppa.searchEventGroup(g);if(a==-1){cuppa.eventGroups.push([g,new Array()])}if(c=="ready"){jQuery(b).ready(f)}else{if(c=="removed"){c="DOMNodeRemoved";cuppa.addRemoveListener(b,f)}else{jQuery(b).bind(c,e,f)}}a=cuppa.searchEventGroup(g);cuppa.eventGroups[a][1].push([b,c,f]);if(cuppa.debug){try{console.log("addEventListener - Array Length: "+cuppa.eventGroups.length);console.log(cuppa.eventGroups)}catch(d){}}};cuppa.removeEventGroup=function(c){if(!c){c="default"}var a=cuppa.searchEventGroup(c);if(a==-1){return}while(cuppa.eventGroups[a][1].length>0){jQuery(cuppa.eventGroups[a][1][0][0]).unbind(cuppa.eventGroups[a][1][0][1],cuppa.eventGroups[a][1][0][2]);cuppa.eventGroups[a][1][0][0]=null;cuppa.eventGroups[a][1][0][1]=null;cuppa.eventGroups[a][1][0][2]=null;cuppa.eventGroups[a][1][0]=null;cuppa.eventGroups[a][1].shift()}cuppa.eventGroups.splice(a,1);if(cuppa.debug){try{console.log("removeEventGroup - Array Length: "+cuppa.eventGroups.length);console.log(cuppa.eventGroups)}catch(b){}}};cuppa.removeEventListener=function(d,f,b,g){if(!g){g="default"}var a=cuppa.searchEventGroup(g);if(a==-1){return}for(var c=0;c<cuppa.eventGroups[a][1].length;c++){try{if(cuppa.eventGroups[a][1][c][0].toString()==b.toString()&&cuppa.eventGroups[a][1][c][1]==d&&cuppa.eventGroups[a][1][c][2].toString()==f.toString()){jQuery(cuppa.eventGroups[a][1][c][0]).unbind(cuppa.eventGroups[a][1][c][1],cuppa.eventGroups[a][1][c][2]);cuppa.eventGroups[a][1][c][0]=null;cuppa.eventGroups[a][1][c][1]=null;cuppa.eventGroups[a][1][c][2]=null;cuppa.eventGroups[a][1][c]=null;cuppa.eventGroups[a][1].splice(c,1);break}}catch(e){}}if(!cuppa.eventGroups[a][1].length){cuppa.eventGroups.splice(a,1)}if(cuppa.debug){try{console.log("removeEventListener - Array Length: "+cuppa.eventGroups.length);console.log(cuppa.eventGroups)}catch(e){}}};cuppa.searchEventGroup=function(c){var a=-1;for(var b=0;b<cuppa.eventGroups.length;b++){if(cuppa.eventGroups[b][0]==c){a=b;break}}return a}; cuppa.replace=function(a,c,b){if(!a){return""}var d=a.replace(new RegExp(c,"g"),b);return d};cuppa.trim=function(a){if(a){return a.replace(/^\s+|\s+$/g,"")}else{return""}};cuppa.email=function(b){var a=/^[a-z 0-9][\w.-]+@\w[\w.-]+\.[\w.-]*[a-z][a-z]$/i;return a.test(cuppa.trim(b))};cuppa.url=function(b){var a=/[-a-zA-Z0-9@:%_\+.~#?&//=]{2,256}\.[a-z]{2,4}\b(\/[-a-zA-Z0-9@:%_\+.~#?&//=]*)?/gi;return a.test(b)};cuppa.deleteDoubleSpaces=function(b){var a=/\s+/gi;return b.replace(a," ")};cuppa.searchWord=function(c,b){c=c.toLowerCase();b=b.toLowerCase();var a=b.search(c);if(a==-1){return false}else{return true}};cuppa.search=function(b,a){return cuppa.searchWord(b,a)};cuppa.stringLike=function(a,b){if(!a){return false}if(a.indexOf(b)>=0){return true}else{return false}};cuppa.likeString=function(a,b){return cuppa.stringLike(a,b)};cuppa.capitaliseFirstLetter=function(a){a=a.toLocaleLowerCase();return a.charAt(0).toUpperCase()+a.slice(1)};cuppa.capitaliseAllWords=function(d){d=d.toLocaleLowerCase();var c=d.split(" ");for(var b=0;b<c.length;b++){var a=c[b].charAt(0).toUpperCase();c[b]=a+c[b].substr(1)}return c.join(" ")};cuppa.numberToMoney=function(g,d){g=String(g);if(g=="0"||g=="NaN"||g==""){return"0"}if(d==undefined){d="."}var f="";if(d=="."){var b=g.split(".");var e="";if(b.length>1){e="."+b[b.length-1]}b=b[0].split("");b.reverse();for(var c=b.length-1;c>=0;c--){f+=b[c];if(c>0){var a=(c/3);var a=a-Math.floor(c/3);if(a==0&&b[c]!="-"){f+=","}}}}else{if(d==","){var b=g.split(",");var e="";if(b.length>1){e=","+b[b.length-1]}b=b[0].split("");b.reverse();for(var c=b.length-1;c>=0;c--){f+=b[c];if(c>0){var a=(c/3);var a=a-Math.floor(c/3);if(a==0&&b[c]!="-"){f+="."}}}}}f+=e;return f};cuppa.moneyToNumber=function(b,a){b=String(b);if(b=="0"||b=="NaN"||b==""){return"0"}if(a==undefined){a="."}if(a=="."){b=cuppa.replace(b,",","")}else{b=cuppa.replace(b,".","");b=cuppa.replace(b,",",".")}return parseFloat(b)};cuppa.urlValue=function(c,b){if(!b){b=window.location.href}var a="[\\?&]"+c+"=([^&#]*)";var f=new RegExp(a);var e=b;var d=f.exec(e);if(d==null){return""}else{return d[1]}};cuppa.urlToObject=function(c,a){if(a==undefined){a=true}var g=c.split("&");var b={};if(g.length<1){return null}for(var d=0;d<g.length;d++){var f=g[d].split("=");try{if(a){f[1]=jQuery.URLDecode(f[1])}if(f[0]){b[f[0]]=f[1]}}catch(e){}}if(!Object.keys(b).length){return null}return b};cuppa.urlFriendly=function(d,b){if(!d){return}if(b===undefined){b=255}var a=new Array();a.push(new Array("a",/[áàâãªÁÀÂÃ]/g));a.push(new Array("e",/[éèêÉÈÊ]/g));a.push(new Array("i",/[íìîÍÌÎ]/g));a.push(new Array("o",/[òóôõÓÒÔÕ]/g));a.push(new Array("u",/[úùûÚÙÛ]/g));a.push(new Array("c",/[çÇ]/g));a.push(new Array("n",/[Ññ]/g));a.push(new Array("-",/[.]/g));a.push(new Array("",/['"\\()\[\]/*++\¿?#:;@$º&*^·’,.!¡%=+|]/g));for(var c=0;c<a.length;c++){d=d.replace(a[c][1],a[c][0])}return d.replace(/\s+/g,"-").replace(/\_+/g,"-").toLowerCase().replace(/\-{2,}/g,"-").replace(/(^\s*)|(\s*$)/g,"").substr(0,b)};cuppa.pathVars=function(d,a){if(a==undefined){a=false}d=d.split("/");var e=new Array();for(var b=0;b<d.length;b++){if(d[b]){d[b]=jQuery.trim(d[b]);if(a){var c=parseInt(d[b]);if(c){d[b]=c}}e.push(d[b])}}return e};cuppa.urlEncode=function(a){return jQuery.URLEncode(a)};cuppa.urlDecode=function(a){return jQuery.URLDecode(a)};cuppa.utf8Encode=function(b){b=b.replace(/\r\n/g,"\n");var a="";for(var e=0;e<b.length;e++){var d=b.charCodeAt(e);if(d<128){a+=String.fromCharCode(d)}else{if((d>127)&&(d<2048)){a+=String.fromCharCode((d>>6)|192);a+=String.fromCharCode((d&63)|128)}else{a+=String.fromCharCode((d>>12)|224);a+=String.fromCharCode(((d>>6)&63)|128);a+=String.fromCharCode((d&63)|128)}}}return a};cuppa.utf8Decode=function(a){var b="";var d=0;var e=c1=c2=0;while(d<a.length){e=a.charCodeAt(d);if(e<128){b+=String.fromCharCode(e);d++}else{if((e>191)&&(e<224)){c2=a.charCodeAt(d+1);b+=String.fromCharCode(((e&31)<<6)|(c2&63));d+=2}else{c2=a.charCodeAt(d+1);c3=a.charCodeAt(d+2);b+=String.fromCharCode(((e&15)<<12)|((c2&63)<<6)|(c3&63));d+=3}}}return b};cuppa.cutText=function(b,f,c,d,a,e){if(f==undefined){f=""}if(b==undefined){b=" "}if(c==undefined){c=200}if(d==undefined){d=""}if(a==undefined){a=false}if(e==undefined){e=false}if(e){f=cuppa.removeTags(f)}if(a){f=f.substr(0,c);if(cuppa.strrpos(f,b)!==false){f=cuppa.trim(f.substr(0,cuppa.strrpos(f,b)))}f+=d}else{if(f.length>c){f=f.substr(0,c);if(cuppa.strrpos(f,b)!==false){f=cuppa.trim(f.substr(0,cuppa.strrpos(f,b)))}f+=d}}return f};cuppa.strpos=function(b,c,d){var a=(b+"").indexOf(c,(d||0));return a===-1?false:a};cuppa.strrpos=function(b,c,d){var a=-1;if(d){a=(b+"").slice(d).lastIndexOf(c);if(a!==-1){a+=d}}else{a=(b+"").lastIndexOf(c)}return a>=0?a:false};cuppa.removeTags=function(a,c){c=(((c||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var b=/<\/?([a-z][a-z0-9]*)\b[^>]*>/gi,d=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi;return a.replace(d,"").replace(b,function(f,e){return c.indexOf("<"+e.toLowerCase()+">")>-1?f:""})};cuppa.getFileDescription=function(a,c){if(!a){return null}var e="/";a=cuppa.replace(a,"\\\\","/");var f=a.split(e);if(cuppa.trim(f[f.length-1])==""){f.pop()}var d={};d.name_complete=f.pop();d.path=f.join(e)+e;var b=d.name_complete.split(".");if(b.length>1||c=="file"){d.type="file";if(b.length>1){d.extension=b.pop().toLowerCase()}else{d.extension=""}d.name=b.join(".")}else{d.type="folder"}return d};cuppa.fileDescription=function(a){return cuppa.getFileDescription(a)};cuppa.nl2br=function(a){return a.replace(/\r?\n/g,"<br />")};cuppa.br2nl=function(a){return a.replace(/<br\s*[\/]?>/gi,"\n")};cuppa.jsonDecode=function(c,b){if(c==undefined||c==null){return""}if(b==undefined){b=true}if(b){c=jQuery.base64Decode(c)}try{c=jQuery.parseJSON(c)}catch(a){}return c};cuppa.jsonEncode=function(c,a){if(c==undefined||c==null){return""}if(a==undefined){a=true}try{c=jQuery.toJSON(c)}catch(b){}if(a){c=jQuery.base64Encode(c)}return c};cuppa.numberFormat=function(f,c,h,e){f=(f+"").replace(/[^0-9+\-Ee.]/g,"");var b=!isFinite(+f)?0:+f,a=!isFinite(+c)?0:Math.abs(c),j=(typeof e==="undefined")?",":e,d=(typeof h==="undefined")?".":h,i="",g=function(o,m){var l=Math.pow(10,m);return""+(Math.round(o*l)/l).toFixed(m)};i=(a?g(b,a):""+Math.round(b)).split(".");if(i[0].length>3){i[0]=i[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,j)}if((i[1]||"").length<a){i[1]=i[1]||"";i[1]+=new Array(a-i[1].length+1).join("0")}return i.join(d)}; cuppa.parallaxBackground=function(d,a){a=a||{};a.invert=a.invert||false;d=$(d).get();this.items=[];for(var b=0;b<d.length;b++){if(d[b].style.backgroundImage){var c={};c.element=d[b];c.url=d[b].style.backgroundImage.replace('url("',"").replace('")',"");c.img=$("<img src='"+c.url+"' class='parallax_bg_img no_responsive'  ></img>").get(0);$(d[b]).prepend(c.img);this.items.push(c)}}this.onScroll=function(h,g){if(h){g=h.data}var f=g.items;$(f).each(function(){var l=cuppa.dim(this.element);var k=cuppa.percent(l.y3,-l.height,$(window).height(),g.options.invert);if(k>1){k=1}if(k<0){k=0}var j=this.img;var e=cuppa.dim(j);var m=-k*(e.height-l.height);if(m>0){m=0}j.style.top=m+"px"})};$(document).on("scroll",{items:this.items,options:a},this.onScroll);this.onScroll(null,{items:this.items,options:a});$(window).on("load",{items:this.items,options:a},this.onScroll)};cuppa.parallaxBg=function(b,a){cuppa.parallaxBackground(b,a)};cuppa.getClass=function(b,a){if(a==undefined){a=0}var c="";try{var c=jQuery(b).attr("class").split(" ")[a]}catch(d){}return c};cuppa.tagName=function(a){return $(a).prop("nodeName").toLowerCase()};cuppa.tagType=function(a){return cuppa.tagName(a)};cuppa.maxZIndex=function(c,e){if(c==undefined){c="body"}var d;if(e){d=$("*")}else{d=jQuery(c).children().get()}var f=1;for(var b=0;b<d.length;b++){var a=parseFloat(jQuery(d[b]).css("z-index"));if(a>f){f=a}}return f};cuppa.cloneObject=function(a){return jQuery.extend(true,{},a)};cuppa.toNumber=function(a){if(isNaN(a)||!a){return 0}else{return parseFloat(a)}};cuppa.parseFloat=function(a){return cuppa.toNumber(a)};cuppa.isNaN=function(a){return isNaN(parseFloat(a))};cuppa.align=function(g,f,a,b,e){if(f==undefined){f=true}if(jQuery(g).css("position")=="static"){jQuery(g).css("position","relative")}var k=jQuery(g).parent();var d=cuppa.dim(k);var h=cuppa.dim(g);if(f){var j=(d.height-h.height4)*0.5;if(j<0){j=0}else{if(b){j+=b}}jQuery(g).css("top",j)}if(a){var c=(d.width-h.width4)*0.5;if(c<0){c=0}jQuery(g).css("left",c)}};cuppa.alignAbsolute=function(a,d,b){if(b){jQuery(a).css("position","fixe")}else{jQuery(a).css("position","absolute")}var c=cuppa.dimentions(a);if(d=="bottom right"||d=="right bottom"){TweenMax.to(a,0,{left:"auto",top:"auto",bottom:0,right:0})}else{if(d=="bottom left"||d=="left bottom"){TweenMax.to(a,0,{left:0,top:"auto",bottom:0})}else{if(d=="bottom center"||d=="center bottom"||d=="bottom"){TweenMax.to(a,0,{top:"auto",bottom:0,left:"50%",marginLeft:-c.width2*0.5})}else{if(d=="top right"||d=="right top"){TweenMax.to(a,0,{left:"auto",right:0,top:0})}else{if(d=="top left"||d=="left top"){TweenMax.to(a,0,{left:0,top:0})}else{if(d=="top center"||d=="top bottom"||d=="top"){TweenMax.to(a,0,{top:0,left:"50%",marginLeft:-c.width2*0.5})}else{if(d=="left center"||d=="center left"||d=="left"){TweenMax.to(a,0,{left:0,top:"50%",marginTop:-c.height2*0.5})}else{if(d=="right center"||d=="center right"||d=="right"){TweenMax.to(a,0,{left:"auto",right:0,top:"50%",marginTop:-c.height2*0.5})}else{if(d=="center center"||d=="center"){TweenMax.to(a,0,{left:"50%",marginLeft:-c.width2*0.5,top:"50%",marginTop:-c.height2*0.5})}}}}}}}}}};cuppa.responsiveImages=function(a,b){cuppa.responsiveImagesWidth(a,b)};cuppa.responsiveImagesWidth=function(a,c){if(c==undefined){c="width"}jQuery(a).each(b);jQuery(window).load(function(){jQuery(a).each(b)});function b(g){if(jQuery(this).hasClass("no_responsive")||jQuery(this).hasClass("noresponsive")){return}if(c=="width"){var f=parseFloat(jQuery(this).attr("width"));if(!f){f=jQuery(this)[0].naturalWidth}if(f){jQuery(this).css({width:"100%","max-width":f,height:"auto"})}else{jQuery(this).load(function(h){var j=jQuery(this).clone();jQuery(j).css({position:"fixed",top:"0px",left:"0px",visibility:"hidden"});jQuery("body").append(j);f=jQuery(j).width();jQuery(j).remove();if(f){jQuery(this).css({width:"100%","max-width":f,height:"auto"})}});if(jQuery(this).height()){jQuery(this).trigger("load")}}}else{if(c=="height"){var d=jQuery(this)[0].naturalHeight;if(d){jQuery(this).css({height:"100%","max-height":d,width:"auto"})}else{jQuery(this).load(function(h){var j=jQuery(this).clone();jQuery(j).css({position:"fixed",top:"0px",left:"0px",visibility:"hidden"});jQuery("body").append(j);d=jQuery(j).height();jQuery(j).remove();if(d){jQuery(this).css({height:"100%","max-height":d,width:"auto"})}});if(jQuery(this).height()){jQuery(this).trigger("load")}}}}}};cuppa.responsiveBlock=function(b,d,c){if(c==undefined){c="width"}function a(f){if(c=="width"){jQuery(b).each(function(l){if(d){var j=parseFloat(jQuery(this).attr("width"));if(!j){j=parseFloat(jQuery(this).css("width"))}var h=parseFloat(jQuery(this).parent().css("width"));if(j&&j>h){var k=h/j;TweenMax.to(this,0,{scale:k,transformOrigin:"left top"})}else{TweenMax.to(this,0,{scale:1})}}else{var j=parseFloat(jQuery(this).attr("width"));var g=parseFloat(jQuery(this).attr("height"));if(!j){jQuery(this).attr("width",jQuery(this).css("width"))}if(!g){jQuery(this).attr("height",jQuery(this).css("height"))}j=parseFloat(jQuery(this).attr("width"));g=parseFloat(jQuery(this).attr("height"));if(j&&g){jQuery(this).css({width:"100%","max-width":j});var k=jQuery(this).width()/j;if(k<1){jQuery(this).height(g*k)}}}})}}jQuery(window).resize(a);a()};cuppa.canvas=function(a,f,e){if(f==undefined){f=60}if(e==undefined){e=false}var d=$(a)[0];if(!d){return}if(!e&&d.stage){return d.stage}var c=new createjs.Stage(d);d.stage=c;d.stage.width=parseFloat(jQuery(d).attr("width"));d.stage.height=parseFloat(jQuery(d).attr("height"));createjs.Ticker.setFPS(f);createjs.Ticker.addEventListener("tick",b);function b(){c.update()}return c};cuppa.pixiCanvas=function(a,d){if(d==undefined){d="transparent"}var b=$(a)[0];if(b.stage){return b.stage}if(d=="transparent"){var e=new PIXI.WebGLRenderer(b.width,b.height,{view:b,transparent:true})}else{var e=new PIXI.WebGLRenderer(b.width,b.height,{view:b});e.backgroundColor=d}var c=new PIXI.Container();c.width2=b.width;c.height2=b.height;requestAnimationFrame(f);function f(){e.render(c);requestAnimationFrame(f)}b.stage=c;b.renderer=e;return c};cuppa.pixiResize=function(b,d,a){var c=$(b)[0];if(!c.renderer){return}c.renderer.resize(d,a);c.style.width=d+"px";c.style.height=a+"px";c.stage.width2=d;c.stage.height2=a};cuppa.pixiImage=function(a,c){var b=PIXI.Sprite.fromImage(a);if(b.height>1){if(c){c(b)}TweenMax.delayedCall(0.001,function(d){$(b).trigger("load")})}b.texture.baseTexture.on("loaded",function(){if(c){c(b)}$(b).trigger("load")});return b};cuppa.pixiGetChildByName=function(b,a){for(var c=0;c<a.children.length;c++){if(a.children[c].name===b){return a.children[c]}}return null};cuppa.pixiGetCanvasImage=function(f,j,g,k,e,a,d){if(a==undefined){a=document.createElement("canvas")}if(a){a.width=k;a.height=e;a.getContext("2d").drawImage(canvas,j,g,k,e,0,0,k,e);return a}else{f.renderer.render(f.stage);if(d==undefined){var b=f.renderer.view.toDataURL("image/png")}else{var b=f.renderer.view.toDataURL("image/jpeg",d)}var c=new Image();c.src=b;return c}};cuppa.threeCanvas=function(b,a){if(a==null){a={}}if(a.background==undefined){a.background="transparent"}if(a.camera_z==undefined){a.camera_z=20}var b=$(b)[0];if(!b){return}if(b.stage){return b.stage}var f=new THREE.Vector2();var h=new THREE.Raycaster();var g=null;if(a.background=="transparent"){g=new THREE.WebGLRenderer({alpha:true,canvas:b})}else{g=new THREE.WebGLRenderer({canvas:b});g.setClearColor(a.background,1)}g.setPixelRatio(window.devicePixelRatio);g.setSize(b.width,b.height);var d=new THREE.Scene();d.width=b.width;d.height=b.height;var e=new THREE.PerspectiveCamera(45,b.width/b.height,0.1,700);e.position.set(0,0,a.camera_z);function c(){e.updateMatrixWorld();requestAnimationFrame(c);g.render(d,e)}c();function j(k){f.x=(k.clientX/window.innerWidth)*2-1;f.y=-(k.clientY/window.innerHeight)*2+1}document.addEventListener("mousemove",j,false);b.stage=d;b.scene=d;b.camera=e;b.renderer=g;b.raycaster=h;b.mouse=f;return d};cuppa.threeResize=function(b,c,a){var b=$(b)[0];if(!b.renderer){return}b.camera.aspect=c/a;b.camera.updateProjectionMatrix();b.renderer.setSize(c,a);b.stage.width=c;b.stage.height=a};cuppa.threeDistroy=function(a){};cuppa.getCanvasImage=function(d,b,g,c,e,a){if(a==undefined){a=document.createElement("canvas")}if(a){a.width=c;a.height=e;a.getContext("2d").drawImage(d,b,g,c,e,0,0,c,e);return a}else{var f=new Image();f.src=d.toDataURL();return f}};cuppa.loadFlashAnimation=function(simbolName,canvas,callback,play,loop){images=images||{};var canvas=$(canvas).get(0);if(canvas.stage){canvas=canvas.stage}else{canvas=cuppa.canvas($(canvas).get(0))}if(!canvas){return null}if(play==undefined){play=false}if(loop==undefined){loop=false}var simbol=eval(simbolName);var loader=new createjs.LoadQueue(false);loader.addEventListener("fileload",handleFileLoad);loader.addEventListener("complete",handleComplete);loader.loadManifest(simbol.properties.manifest);function handleFileLoad(evt){loader.removeEventListener("fileload",handleFileLoad);if(evt.item.type=="image"){images[evt.item.id]=evt.result}}function handleComplete(evt){loader.removeEventListener("complete",handleComplete);var animation=new simbol[simbolName]();if(!play){animation.stop()}if(!loop){animation.loop=false}canvas.addChild(animation);if(callback){callback(animation,canvas.canvas)}}};cuppa.tweenFlashAnimation=function(c,g,e,b,f){if(e==undefined){e=1}if(f==undefined){f=Linear.easeNone}if(c.tweenMaxFrames){TweenMax.killTweensOf(c.tweenMaxFrames)}c.tweenMaxFrames={frame:c.currentFrame};TweenMax.to(c.tweenMaxFrames,e,{frame:g,onUpdate:a,onComplete:d,ease:f});function a(){var h=Math.round(c.tweenMaxFrames.frame);c.gotoAndStop(h)}function d(){if(b!=undefined){c.gotoAndStop(b)}}};cuppa.canvasSize=function(b,d,a){if(d!=undefined&&a!=undefined){var c=jQuery(b)[0].getContext("2d");c.canvas.width=d;c.canvas.height=a}};cuppa.backgroundAttachment=function(b){cuppa.addEventListener("scroll",a,window,"backgroundAttachment");cuppa.addEventListener("progress_content",a,"body","backgroundAttachment");function a(){jQuery(b).each(function(){var d=cuppa.dimentions(jQuery(this).parent());var c=cuppa.statusScrollPixel();TweenMax.to(this,0,{y:c.y-d.y})})}};cuppa.css=function(a,c,b,e,d){if(b!=null||b!=undefined){jQuery(a).css(c,b);return null}else{var b=cuppa.getCSSValue(a,c,e,d);return b}};cuppa.getCSSValues=function(a,e,k,b){if(k==undefined){k="all"}if(b==undefined){b=true}var h=[];for(var d=0;d<jQuery(a).length;d++){if(e=="height"){var l=cuppa.dimentions(jQuery(a)[d]);var g=l.height}else{if(e=="width"){var l=cuppa.dimentions(jQuery(a)[d]);var g=l.width}else{var g=jQuery(jQuery(a)[d]).css(e)}}if(b){g=parseFloat(g)}h.push(g)}if(k=="all"){return h}else{if(k=="sum"){var f=0;for(var c=0;c<h.length;c++){f+=h[c]}return f}else{if(k=="max"){return Math.max.apply(Math,h)}else{if(k=="min"){return Math.min.apply(Math,h)}}}}};cuppa.getCSSValue=function(b,a,e,d){if(e==undefined){e=true}if(d==undefined){d=false}if(d){var b=$(b)[0];var c=b.style[a];if(e){c=parseFloat(c)}if(isNaN(c)){c=""}return c}else{var c=$(b).css(a);if(e){c=parseFloat(c)}if(isNaN(c)){c=""}return c}};cuppa.newElement=function(b,a,e,d){if(!b){return}var b=jQuery(b).clone();if(a){b.addClass(a)}if(e){jQuery(b).css("display",e)}if(!d){return b[0]}else{var c=document.createElement("div");c.appendChild(b[0]);var f=c.innerHTML;c=null;return f}};cuppa.responsiveClasses=new Array();cuppa.addResponsiveClass=function(c,d,f,a,e){if(!e){e="body"}if(a==undefined){a=0}var b={};b.className=c;b.minimum=d;b.maximum=f;b.target=e;b.order=a;cuppa.responsiveClasses.push(b);cuppa.shortArrayObject(cuppa.responsiveClasses,"order");jQuery(window).unbind("resize",cuppa.responsiveResize).bind("resize",cuppa.responsiveResize);cuppa.responsiveResize()};cuppa.responsiveResize=function(){var b=jQuery(window).width();for(var a=0;a<cuppa.responsiveClasses.length;a++){jQuery(cuppa.responsiveClasses[a].target).removeClass(cuppa.responsiveClasses[a].className)}for(var a=0;a<cuppa.responsiveClasses.length;a++){if(b>=cuppa.responsiveClasses[a].minimum&&b<=cuppa.responsiveClasses[a].maximum){jQuery(cuppa.responsiveClasses[a].target).addClass(cuppa.responsiveClasses[a].className)}}};cuppa.removeResponsiveClass=function(b,c){for(var a=0;a<cuppa.responsiveClasses.length;a++){if(b==cuppa.responsiveClasses[a].className&&c==cuppa.responsiveClasses[a].target){jQuery(cuppa.responsiveClasses[a].target).removeClass(cuppa.responsiveClasses[a].className);cuppa.responsiveClasses.splice(a,1)}}};cuppa.shortArrayObject=function(d,b,a){function c(f,e){return function(h,g){if(h[f]<g[f]){return -1}if(h[f]>g[f]){return 1}return 0}}d.sort(c(b));if(a){d.reverse()}return d};cuppa.shortObject=function(c,b){var d=Object.keys(c);d.sort();if(b){d.reverse()}var a={};for(i=0;i<d.length;i++){a[d[i]]=c[d[i]]}return a};cuppa.dataAssigned=new Array();cuppa.setData=function(b,a,d){var e=cuppa.getData(b,a,true);if(e){e.value=d}else{var c={};c.element=b.toString();c.name=a;c.value=d;cuppa.dataAssigned.push(c)}};cuppa.getData=function(c,a,d){for(var b=0;b<cuppa.dataAssigned.length;b++){if(cuppa.dataAssigned[b].element==c){if(cuppa.dataAssigned[b].name==a){if(d){return cuppa.dataAssigned[b]}else{return cuppa.dataAssigned[b].value}}}}return null};cuppa.inLine=function(c,b){jQuery(b).css("overflow","hidden");jQuery(c).css("position","relative");jQuery(c).css("float","left");var d=jQuery("<div class='inline-wrapper'></div>");jQuery(d).css("overflow","hidden").css("position","relative");jQuery(b).append(d);jQuery(d).append(jQuery(c));function a(){jQuery(c).width(jQuery(b).width()-1);jQuery(d).width(jQuery(b).outerWidth()*jQuery(c).length)}jQuery(window).resize(a);a()};cuppa.visible=function(a,b,d,c){this.element=a;this.area=b;this.groupName=c;this.callback=d;if(this.area==undefined||this.area=="body"||$(this.area).is("body")){this.area=window}if(this.groupName==undefined){this.groupName="default"}$(this.element).each(function(){this.visible=false;d(this,false)});this.validate=function(g){var f=this;if(g){f=g.data}$(f.element).each(function(){var h=cuppa.dim(this);var e=cuppa.percent(h.y3,-h.height,$(window).height(),true);var e=cuppa.percent(h.y3,-h.height,$(window).height(),true);if(e>=0&&e<=1&&this.visible==false){this.visible=true;f.callback(this,true)}else{if((e<0||e>1)&&this.visible==true){this.visible=false;f.callback(this,false)}}})};cuppa.addEventListener("scroll",this.validate,this.area,"about",this);this.validate()};cuppa.visualitationElementHandler=function(b,d,g,c,a,e,f){if(!f){f="default"}if(!d||d=="body"){d=window}this.onScroll=function(){jQuery(b).each(function(){cuppa.visualitationElementCore(this,g,c,a,e)})};jQuery(b).each(function(){this.showed=false;this.prev_position_y=0});cuppa.addEventListener("scroll",this.onScroll,d,f);this.onScroll();jQuery(b).each(function(){jQuery(this)[0].showed=true;cuppa.visualitationElementCore(this,g,c,a,e)})};cuppa.visualitationElement=function(c,f,d,a,e){var c=$(c).get();for(var b=0;b<c.length;b++){c.showed=false;c.prev_position_y=0;cuppa.visualitationElementCore(c,f,d,a,e);c.showed=true;cuppa.visualitationElementCore(c,f,d,a,e)}};cuppa.visualitationElementCore=function(c,h,e,a,g){if(a==undefined){a=0}a=-1*a;var d=cuppa.dimentions(c);var b=cuppa.statusScrollPixel(window).y+jQuery(window).height()-1;if(g){if(b>d.y&&b-a<d.y+d.height+jQuery(window).height()){if(!jQuery(c)[0].showed||e){var f=1;if(c.prev_position_y>b){f=-1}jQuery(c).trigger("showed",[c,true,f]);if(h){h(c,true,f)}}jQuery(c)[0].showed=true}else{if(b+a<d.y||b-a>d.y+d.height+jQuery(window).height()){if(jQuery(c)[0].showed){var f=1;if(c.prev_position_y<b){f=-1}jQuery(c).trigger("hidden",[c,false,f]);if(h){h(c,false,f)}}jQuery(c)[0].showed=false}}}else{if(b+a>d.y&&b-a<d.y+d.height+jQuery(window).height()){if(!jQuery(c)[0].showed||e){var f=1;if(c.prev_position_y>b){f=-1}jQuery(c).trigger("showed",[c,true,f]);if(h){h(c,true,f)}}jQuery(c)[0].showed=true}else{if(b<d.y||b>d.y+d.height+jQuery(window).height()){if(jQuery(c)[0].showed){var f=1;if(c.prev_position_y<b){f=-1}jQuery(c).trigger("hidden",[c,false,f]);if(h){h(c,false,f)}}jQuery(c)[0].showed=false}}}c.prev_position_y=b};cuppa.tiles=function(b,e,d,g,f,c,a){if(d==undefined){d=4}if(g==undefined){g=0}if(f==undefined){f=true}if(a==undefined){a="tiles"}if(f&&c==undefined){c=1}if(!f&&c==undefined){c=0}this.columns=d;this.container=b;this.tile=e;this.duration=g;this.square=f;this.square_height=c;this.scale_reference_attr=a;this.add_width_value=0;this.update=function(){var j=cuppa.dim(b);var h=Math.floor(j.width/this.columns)+this.add_width_value;var n=jQuery(b).find(e);for(var l=0;l<n.length;l++){var p=cuppa.dim(n[l]);var q=p.height;if(f){q=h*c}else{if(!f&&c){q=c}}var k=(jQuery(n[l]).attr(this.scale_reference_attr))?jQuery(n[l]).attr(this.scale_reference_attr).split(","):["1"];if(!k[1]){k[1]=1}var m=parseFloat(k[0])*h;var o=parseFloat(k[1])*q;jQuery(n[l]).width(m);if(f){jQuery(n[l]).height(o)}else{if(!f&&c){o=parseFloat(k[1])*this.square_height;jQuery(n[l]).height(o)}}}jQuery(this.container).packery({columnWidth:0,gutter:0,itemSelector:this.tile,transitionDuration:this.duration+"s"});jQuery(this.container).packery("reloadItems");jQuery(this.container).packery({columnWidth:0,gutter:0,itemSelector:this.tile,transitionDuration:this.duration+"s"});jQuery(this.container).packery("reloadItems")};this.update()};cuppa.knob=function(c,e){if(e==undefined){e={}}if(e.porcent==undefined){e.porcent=1}if(e.duration==undefined){e.duration=0}if(e.delay==undefined){e.delay=0}if(e.initial==undefined){e.initial=-0.5}if(e.color==undefined){e.color="#FFF"}if(e.width==undefined){e.width=6}if(!jQuery(c).length){return}var b=jQuery(c)[0];b.porcent=(b.current_porcent)?b.current_porcent:0;b.initial=e.initial*Math.PI;var a=b.getContext("2d");a.canvas.width=jQuery(b).width();a.canvas.height=jQuery(b).height();d();TweenMax.to(b,e.duration,{delay:e.delay,porcent:e.porcent,ease:Cubic.easeInOut,onComplete:d,onUpdate:d});function d(){a.clearRect(0,0,jQuery(b).width(),jQuery(b).height());a.beginPath();a.arc(jQuery(b).width()*0.5,jQuery(b).height()*0.5,jQuery(b).width()*0.5-(e.width*0.5),b.initial,b.initial+b.porcent*2*Math.PI,false);a.lineWidth=e.width;a.strokeStyle=e.color;a.stroke();b.current_porcent=b.porcent}};cuppa.setMaskImage=function(d,e,a){if(a==undefined){a=false}var g=0;var d=jQuery(d)[0];var b=document.createElement("canvas");var j=b.getContext("2d");var h=document.createElement("img");jQuery(h).load(c);jQuery(h).attr("src",jQuery(d).attr("src"));var k=document.createElement("img");k.src=e;jQuery(k).load(c);function c(l){g++;if(g==2){f()}}function f(n){var m=h.width;var l=h.height;b.width=m;b.height=l;jQuery(b).attr("id",jQuery(d).attr("id"));jQuery(b).attr("class",jQuery(d).attr("class"));k.width=m;k.height=l;j.drawImage(k,0,0,b.width,b.height);j.globalCompositeOperation="source-atop";j.drawImage(d,0,0);if(a){d.src=b.toDataURL()}else{jQuery(d).replaceWith(b)}}};cuppa.rotateElement=function(f,b,h,j,e,g,d,c){var k=null;if(b==undefined){b=45}if(g==undefined){g=0}if(d==undefined){d=0}if(c==undefined){c=Linear.easeNone}TweenMax.to(f,d,{rotation:b,ease:c});if(h){TweenMax.to(j,d,{rotation:-b,ease:c});if(e){var a=cuppa.boundingBox(f,g,b);a.x=a.x-parseFloat(jQuery(j).css("padding-left"));a.y=a.y-parseFloat(jQuery(j).css("padding-top"));a.x=a.x-parseFloat(jQuery(j).css("margin-left"));a.y=a.y-parseFloat(jQuery(j).css("margin-top"));TweenMax.to(j,d,{position:"absolute",left:a.x,top:a.y,width:a.width,height:a.height,ease:c});k=a}}return k};cuppa.skewElement=function(e,k,j,g,h,d,f,c,b){if(k==undefined){k=45}if(j==undefined){j=45}if(f==undefined){f=0}if(c==undefined){c=0}if(b==undefined){b=Linear.easeNone}jQuery(e).css("transform","skew("+k+"deg, "+j+"deg)");if(g){jQuery(h).css("transform","skew("+(-k)+"deg, "+(-j)+"deg)");if(d){var a=cuppa.boundingSkewBox(e,k,j,f);a.x=a.x-parseFloat(jQuery(h).css("padding-left"));a.y=a.y-parseFloat(jQuery(h).css("padding-top"));a.x=a.x-parseFloat(jQuery(h).css("margin-left"));a.y=a.y-parseFloat(jQuery(h).css("margin-top"));TweenMax.to(h,c,{position:"absolute",left:a.x,top:a.y,width:a.width,height:a.height,ease:b})}}};cuppa.getStringElement=function(a){if(a[0]){a=tu_NewElement(a)}var b=document.createElement("div");b.appendChild(a);var c=b.innerHTML;b=null;return c};cuppa.getKeyFromValue=function(f,e,g,a){var d="";for(var b in e){var c=e[b];if(c==f){d=b;break}c=cuppa.urlFriendly(c);if(f==c){d=b;break}}if(!d&&a){d=f}if(g){d=cuppa.urlFriendly(d)}return d};cuppa.addRemoveListener=function(a,b){jQuery("body").bind("DOMNodeRemoved",function(d){function c(){if(cuppa.elementRemoved(a)){jQuery("body").unbind("DOMNodeRemoved",d.handleObj.handler);b()}}c();setTimeout(c,1)})};cuppa.enter_frame_list=[];cuppa.enterFrame=function(c,a,b){cuppa.addEnterFrame(c,a,b)};cuppa.tick=function(c,a,b){cuppa.addEnterFrame(c,a,b)};cuppa.addEnterFrame=function(d,b,c){if(b==undefined){b=60}if(c==undefined){c="default"}var b=(1000/b)/1000;var a={};a.callback=d;a.fps=b;a.groupName=c;a["function"]=function(e){d();TweenMax.delayedCall(e.fps,e["function"],[e])};a["function"](a);cuppa.enter_frame_list.push(a)};cuppa.removeEnterFrame=function(c){var b;for(b=0;b<cuppa.enter_frame_list.length;b++){var a=cuppa.enter_frame_list[b];if(a.callback.toString()==c.toString()){TweenMax.killTweensOf(a["function"]);break}}cuppa.enter_frame_list.splice(b,1)};cuppa.removeEnterFrameGroup=function(b){if(b==undefined){b="default"}for(i=0;i<cuppa.enter_frame_list.length;i++){var a=cuppa.enter_frame_list[i];if(a.groupName==b){TweenMax.killTweensOf(a["function"])}}};cuppa.elementRemoved=function(a){if(!jQuery("body").find(a).length){return true}else{return false}};cuppa.setCookie=function(a,d,b){var e=new Date();e.setDate(e.getDate()+b);var c=escape(d)+((b==null)?"":"; expires="+e.toUTCString());document.cookie=a+"="+c+";path=/"};cuppa.getCookie=function(b){var a=document.cookie.match("(^|;) ?"+b+"=([^;]*)(;|$)");if(a){return(unescape(a[2]))}else{return null}};cuppa.deleteCookie=function(b){var a=new Date();a.setTime(a.getTime()-1);document.cookie=b+="=; expires="+a.toGMTString()};cuppa.isTouch=cuppa.touchSupport=function(){if("ontouchstart" in document.documentElement){return true}else{return false}};cuppa.wheelSmooth2=function(b,d,a,c){if(!b||b==undefined){b="body"}if(d==undefined){d=100}if(a==undefined){a=0.6}if(c==undefined){c=Cubic.easeOut}jQuery(b).unbind("mousewheel").bind("mousewheel",function(h,g){if($.browser=="mozilla"){return}h.preventDefault();g=g*-1;var f=cuppa.statusScrollPixel(b);TweenMax.killTweensOf(b);TweenMax.killTweensOf(window);cuppa.moveContent(b,false,true,0,f.y+d*g,a,c)})};cuppa.wheelSmooth2Disable=function(a){if(!a||a=="body"){a="html, body"}jQuery(a).unbind("mousewheel")};cuppa.wheelSmooth=function(b,a){if(b==undefined){b="body"}$(b).smoothWheelRemove();return $(b).smoothWheel(a)};cuppa.wheelSmoothDisable=function(a){if(a==undefined){a="body"}$(a).smoothWheelRemove()};cuppa.mousewheel=function(c,d,b,a){if(!c){c=window}if(a){$(c).unbind("mousewheel").unbind("DOMMouseScroll")}else{$(c).unbind("mousewheel").unbind("DOMMouseScroll");$(c).bind("mousewheel",b,d).bind("DOMMouseScroll",b,d)}};cuppa.scrollStatus=function(a,b){cuppa.statusScroll(a,b)};cuppa.statusScroll=function(b,c){if(!b||b=="body"||b=="html, body"||$(b).is("body")){b=window}function a(){var e=cuppa.statusScrollPercent(b);var d=cuppa.statusScrollPixel(b);c(e,d)}jQuery(b).scroll(a)};cuppa.scrollPercentStatus=function(a){return cuppa.statusScrollPercent(a)};cuppa.statusScrollPercent=function(h){if(!h||h=="body"||h=="html, body"||$(h).is("body")){h=window}var g={x:0,y:0};var a={x:jQuery(h).scrollLeft(),y:jQuery(h).scrollTop()};var b={width:jQuery(h).width(),height:jQuery(h).height()};if(h=="html, body"){b.width=jQuery(window).width();b.height=jQuery(window).height()}var e={width:jQuery(h).prop("scrollWidth"),height:jQuery(h).prop("scrollHeight")};if(!e.width){e.width=jQuery(document).width()}if(!e.height){e.height=jQuery(document).height()}var f=a.x,j=e.width,k=b.width;scrollPercent=(f/(j-k));g.x=scrollPercent;var f=a.y,j=e.height,k=b.height;scrollPercent=(f/(j-k));g.y=scrollPercent;return g};cuppa.scrollPixelStatus=function(a){return cuppa.statusScrollPixel(a)};cuppa.statusScrollPixel=function(b){if(!b||b=="body"||b=="html, body"||$(b).is("body")){b=window}var a={x:jQuery(b).scrollLeft(),y:jQuery(b).scrollTop()};return a};cuppa.spriteSheetAnimation=function(a){if(a.fps==undefined){a.fps=30}if(a.play==undefined){a.play=true}if(a.columns==undefined){a.columns=1}if(a.loop==undefined){a.loop=true}if(a.reverse==undefined){a.reverse=false}if(a.currentFrame==undefined&&a.reverse==false){a.currentFrame=1}if(a.currentFrame==undefined&&a.reverse==true){a.currentFrame=a.frames}a.tiles_by_column=Math.ceil(a.frames/a.columns);a.width=jQuery(a.target).width();a.height=jQuery(a.target).height();a.object=jQuery(a.target);if(a.object==undefined){return}a.rows=a.frames/a.columns;this.options=a;this.Animate=function(c){var e=0;if(!c.options.reverse){var b=c.options.currentFrame-1;var f=Math.floor((b)/(a.columns));var d=(b/a.columns)-Math.floor(b/a.columns);d=Math.round(d*a.columns);e=d*c.options.width*-1;positionY=f*c.options.height*-1;TweenMax.to(c.options.object,0,{backgroundPosition:e+"px "+positionY+"px"});if(c.options.currentFrame==c.options.frames){jQuery(c).trigger("complete");jQuery(this).trigger("complete");if(!a.loop){return}c.options.currentFrame=0}a.currentFrame++}else{var b=c.options.currentFrame-1;var f=Math.floor((b)/(a.columns));var d=(b/a.columns)-Math.floor(b/a.columns);d=Math.round(d*a.columns);e=d*c.options.width*-1;positionY=f*c.options.height*-1;TweenMax.to(c.options.object,0,{backgroundPosition:e+"px "+positionY+"px"});if(c.options.currentFrame==1){jQuery(c).trigger("complete");jQuery(this).trigger("complete");if(!a.loop){return}c.options.currentFrame=c.options.frames}a.currentFrame--}TweenMax.delayedCall(1/a.fps,c.Animate,[c])};if(this.options.play){this.Animate(this)}this.gotoAndPlay=function(c,b){TweenMax.killTweensOf(this.Animate);if(!c){c=1}this.options.currentFrame=c;if(b!=undefined){this.options.loop=b}this.Animate(this)};this.gotoAndStop=function(b){TweenMax.killTweensOf(this.Animate);if(!b){b=1}this.options.currentFrame=b;this.Animate(this);this.stop()};this.stop=function(){TweenMax.killTweensOf(this.Animate)};return this};cuppa.animationSequence=function(e){if(e.fps==undefined){e.fps=30}if(e.play==undefined){e.play=true}if(e.loop==undefined){e.loop=true}if(e.reverse==undefined){e.reverse=false}if(e.currentFrame==undefined&&e.reverse==false){e.currentFrame=1}if(e.currentFrame==undefined&&e.reverse==true){e.currentFrame=e.frames}e.width=jQuery(e.target).width();e.height=jQuery(e.target).height();e.object=jQuery(e.target);if(e.object==undefined){return}this.options=e;for(var f=1;f<=e.frames;f++){var b="";if(e.zerosToLeft){var a=e.zerosToLeft-f.toString().length;if(a>0){b=(0).toFixed(a).toString().replace("0.","")}}var d=b+f+".png";if(e.imageName){d=e.imageName+d}var c=e.path+d;var g=jQuery("<img />");jQuery(g).attr("src",c);jQuery(g).css("position","absolute").css({left:0,top:0});if(f>1){jQuery(g).css("display","none")}jQuery(e.target).append(g)}this.Animate=function(h){if(!h.options.reverse){var j=jQuery(h.options.target).find("img").get(h.options.currentFrame-1);TweenMax.to(jQuery(h.options.target).find("img"),0,{display:"none"});TweenMax.to(j,0,{display:"block"});if(h.options.currentFrame==h.options.frames){jQuery(h).trigger("complete");jQuery(this).trigger("complete");if(!e.loop){return}h.options.currentFrame=0}e.currentFrame++}else{var j=jQuery(h.options.target).find("img").get(h.options.currentFrame-1);TweenMax.to(jQuery(h.options.target).find("img"),0,{display:"none"});TweenMax.to(j,0,{display:"block"});if(h.options.currentFrame==1){jQuery(h).trigger("complete");jQuery(this).trigger("complete");if(!e.loop){return}h.options.currentFrame=h.options.frames}e.currentFrame--}TweenMax.delayedCall(1/e.fps,h.Animate,[h])};if(this.options.play){this.Animate(this)}this.gotoAndPlay=function(j,h){TweenMax.killTweensOf(this.Animate);if(!j){j=1}this.options.currentFrame=j;if(h!=undefined){this.options.loop=h}this.Animate(this)};this.gotoAndStop=function(h){TweenMax.killTweensOf(this.Animate);if(!h){h=1}this.options.currentFrame=h;return;this.Animate(this)};this.stop=function(){TweenMax.killTweensOf(this.Animate)};return this};cuppa.timeLine=function(a){this.vars=a;this.timeLine=new TimelineMax(a);this.tweens=[];this.labels=[];this.to=function(f,e,d,b,c){this.timeLine.to(f,e,d,b);this.tweens.push({target:f,duration:e,vars:d,position:b,label:c});if(c){this.timeLine.addLabel(c);this.labels.push({label:c,position:this.timeLine.getLabelTime(c)})}};this.addLabel=function(c,b){this.timeLine.addLabel(c,b);this.labels.push({label:c,position:this.timeLine.getLabelTime(c)})};this.append=function(g,d,h,f,k,j,c){this.timeLine.stop();this.currentTime=this.timeLine.time();this.timeLine=new TimelineMax(this.vars);var b=this.tweens;this.tweens=[];for(var e=0;e<b.length;e++){this.to(b[e].target,b[e].duration,b[e].vars,b[e].position,b[e].label);if(b[e].label==j){this.to(g,d,h,f,k)}}this.timeLine.stop();this.timeLine.seek(this.currentTime);if(c){this.timeLine.play()}};this.remove=function(c,e){this.timeLine.stop();this.currentTime=this.timeLine.time();this.timeLine=new TimelineMax(this.vars);var b=this.tweens;this.tweens=[];for(var d=0;d<b.length;d++){if(b[d].label==c){b.splice(d,1);break}}for(var d=0;d<b.length;d++){this.to(b[d].target,b[d].duration,b[d].vars,b[d].position,b[d].label)}this.timeLine.stop();this.timeLine.seek(this.currentTime);if(e){this.timeLine.play()}}};cuppa.getURL=function(e,d,a){if(!e){e=jQuery("base").attr("href")}var b=window.location.href;b=b.replace("#/","");b=cuppa.replace(b,e,"");if(b){b=b.split("/")}if(b&&a){for(var c=0;c<b.length;c++){b[c]=cuppa.getKeyFromValue(b[c],a,true,true)}}if(!d&&b){b=b.join("/")}return b};cuppa.anchorSmooth=function(b,a){a=a||{};a.duration=a.duration||0.7;a.ease=a.ease||Expo.easeInOut;a.gap=a.gap||0;a.callback=a.callback||null;if(!b){b=$("a[href*=#]").get()}$(b).click(function(f){var g=$(this).attr("href").replace("#","");var c=c=$("a[name="+g+"]").get(0);if(!c){return}f.preventDefault();var d=cuppa.dim(c);cuppa.moveContent("",false,true,0,d.y+a.gap,a.duration,a.ease);cuppa.setPath($(this).attr("href"));if(a.callback){a.callback(g)}})};cuppa.getPath=function(a){var c=jQuery("base").attr("href");var b=cuppa.replace(window.location.href,c,"");if(a){b=b.split("/")}return b};cuppa.setPath=function(a,b){if(b==undefined){b=""}if(a==undefined||a==""){a=" "}window.history.pushState(a,b,a)};cuppa.back=function(){window.history.back()};cuppa.forward=function(){window.history.forward()};cuppa.managerURL=function(k,j,h,g,d,c){if(!k){k=function(){}}if(j==undefined){j=false}jaddress_forced=(j==true)?true:false;if(h==undefined){h=true}if(c==undefined){c=jQuery("base").attr("href")}if(c==undefined){c=""}this.history_list=new Array();this.path="";this.path_array=null;this.params=null;this.jaddress_compatibility=j;this.jaddress_forced=jaddress_forced;this.language=g;this.base_path=c;this.data={};this.data_get={};this.setParams=function(p,n,o,q){if(q==undefined){q=true}if(this.path==p.path&&!n){return}this.path=p.path=cuppa.replace(p.path,this.base_path,"");this.path=p.path=cuppa.replace(p.path,"#/","");this.data=(o)?o:{};if(this.language){this.languageTransform()}if(this.path){this.path_array=this.path.split("/");if(!this.path_array[this.path_array.length-1]){this.path_array.pop()}}else{this.path_array=null}try{this.data_get=this.path_array[this.path_array.length-1];this.data_get=this.data_get.replace("?","");this.data_get=cuppa.urlToObject(this.data_get)}catch(m){}if(p.path!=undefined){var l=this.base_path+cuppa.replace(p.path,"//","/");if(window.location.href!=l||n){try{if(!this.jaddress_forced){if(p.title){window.history.pushState(l,p.title,l)}else{window.history.pushState(l,l,l)}}else{jQuery.address.path(p.path)}}catch(m){if(this.jaddress_compatibility){jQuery.address.path(p.path)}else{location.href=l;return}}p.path_array=this.path_array;this.params=p;if(q){jQuery(window).trigger("change_url",[p,this.data,this.data_get])}}if(p.title!=undefined){document.title=p.title}}this.addToHistory(p)};this.addToHistory=function(n){var l=(this.base_path)?cuppa.replace(window.history.state,this.base_path,""):cuppa.replace(window.history.state,jQuery("base").attr("href"),"");for(var m=0;m<this.history_list.length;m++){if(this.history_list[m].path==l){this.history_list.splice(m,1);break}}return this.history_list.unshift(n)};this.getCurrentPath=function(){var l=cuppa.replace(window.history.state,this.base_path,"");return l};this.languageTransform=function(m,n){if(m&&n){if(typeof m=="string"){m=m.replace("#/","");m=m.split("/")}m=m.slice(0);if(!m[m.length-1]){m.pop()}for(var l=0;l<m.length;l++){m[l]=cuppa.getKeyFromValue(m[l],n,true,true)}return m}else{if(!this.language){return null}this.path=this.path.replace("#/","");this.path_array=this.path.split("/");if(!this.path_array[this.path_array.length-1]){this.path_array.pop()}for(var l=0;l<this.path_array.length;l++){this.path_array[l]=cuppa.getKeyFromValue(this.path_array[l],this.language,true,true)}this.path=this.path_array.join("/");return null}};this.historyHandler=function(p){var m=p.data.tu_ManagerURL.history_list;var l=cuppa.replace(window.location.href,jQuery(window)[0].tu_ManagerURL.base_path,"");l=l.replace("#/","");var q=false;for(var n=0;n<m.length;n++){if(m[n].path==l){if(jQuery(window)[0].tu_ManagerURL.path==m[n].path){return}jQuery(window)[0].tu_ManagerURL.path=m[n].path;if(jQuery(window)[0].tu_ManagerURL.language){jQuery(window)[0].tu_ManagerURL.languageTransform()}if(jQuery(window)[0].tu_ManagerURL.path){jQuery(window)[0].tu_ManagerURL.path_array=jQuery(window)[0].tu_ManagerURL.path.split("/")}else{jQuery(window)[0].tu_ManagerURL.path_array=null}m[n].path_array=jQuery(window)[0].tu_ManagerURL.path_array;jQuery(window).trigger("change_url",[m[n]]);if(m[n].title){document.title=m[n].title}q=true;break}}if(!q){try{console.log("no founded")}catch(o){}var l={path:cuppa.replace(window.location.href,jQuery(window)[0].tu_ManagerURL.base_path,"")};l.path=cuppa.replace(l.path,"#/","");l.path=cuppa.replace(l.path,"#","");jQuery(window)[0].tu_ManagerURL.path=l.path;if(jQuery(window)[0].tu_ManagerURL.language){jQuery(window)[0].tu_ManagerURL.languageTransform()}if(jQuery(window)[0].tu_ManagerURL.path){jQuery(window)[0].tu_ManagerURL.path_array=jQuery(window)[0].tu_ManagerURL.path.split("/")}else{jQuery(window)[0].tu_ManagerURL.path_array=null}l.path_array=jQuery(window)[0].tu_ManagerURL.path_array;if(!jQuery(window)[0].tu_ManagerURL.jaddress_forced){jQuery(window).trigger("change_url",[l])}}};jQuery(window).bind("popstate",{tu_ManagerURL:this},this.historyHandler);this.updateLinks=function(l,m,o){if(!o){o="default"}if(!l){l=".link"}jQuery(l).data("forced",m);cuppa.removeEventListener("click",n,l,o);cuppa.addEventListener("click",n,l,o);function n(p){if(jQuery(this).attr("target")=="_blank"){return}if(jQuery(this).attr("href")==undefined||jQuery(this).attr("href").search("http")!=-1){return}p.preventDefault();var q={};q.path=jQuery(this).attr("href");q.title=jQuery(this).attr("title");jQuery(window)[0].tu_ManagerURL.setParams(q,jQuery(this).data("forced"))}};this.addListener=function(l,n,m){if(!n){n="default"}cuppa.addEventListener("change_url",l,window,n);if(m){l()}};this.removeListener=function(l,m){if(m==undefined){m="default"}cuppa.removeEventListener("change_url",l,window,m)};jQuery(window)[0].cuppa.managerURL=jQuery(window)[0].tu_ManagerURL=cuppa.managerURL=this;this.addListener(k);if((d==undefined||!d)&&this.base_path){d={path:cuppa.replace(window.location.href,this.base_path,"")}}else{d={path:""}}if((!window.history.pushState&&this.jaddress_compatibility)||this.jaddress_forced){if(d){if(d.path.search("#")==-1&&d.path.length){var b=this.base_path+"#/"+d.path;location.href=b;return}}}if(this.jaddress_compatibility){if(!window.history.pushState||this.jaddress_forced){this.init=true;function f(l){if(jQuery(window)[0].tu_ManagerURL.init){jQuery(window)[0].tu_ManagerURL.init=false;return}var m={};m.path=jQuery.address.path().substring(1);m.title=jQuery.address.title();if(jQuery(window)[0].tu_ManagerURL.path==m.path){return}jQuery(window)[0].tu_ManagerURL.setParams(m)}try{jQuery.address.externalChange(f)}catch(e){}}else{var a=jQuery.address.path().slice(1);if(a.length){location.href=jQuery(window)[0].tu_ManagerURL.base_path+a;return}}}d.path=d.path.replace("#/","");d.path=d.path.replace("#","");d.path=cuppa.replace(d.path,this.base_path,"");this.addToHistory(d);this.path=d.path;if(this.language){this.languageTransform();d.path=this.path}if(this.path){this.path_array=d.path.split("/");if(!this.path_array[this.path_array.length-1]){this.path_array.pop()}}else{this.path_array=null}try{this.data_get=this.path_array[this.path_array.length-1];this.data_get=this.data_get.replace("?","");this.data_get=cuppa.urlToObject(this.data_get)}catch(e){}d.path_array=this.path_array;this.params=d;if(h){jQuery(window).trigger("change_url",[d,this.data,this.data_get])}}; cuppa.colorPicker=function(b){var a=jQuery(b).val();jQuery(b).spectrum("destroy");jQuery(b).spectrum({color:a,showAlpha:true,preferredFormat:"rgb",showInput:true,allowEmpty:true,move:function(c){if(c){$(this).val(c.toRgbString())}else{$(this).val("transparent")}$(this).trigger("update")},hide:function(c){if(c){$(this).val(c.toRgbString())}else{$(this).val("transparent")}$(this).trigger("change")}});this.update=function(c){jQuery(b).spectrum("set",jQuery(b).val())};cuppa.enterKey(b,this.update)};cuppa.enterKey=function(a,c,b){$(a).bind("keypress",function(d){if(d.which==13){jQuery(this).blur();c(b)}})};cuppa.keyEnter=function(a,c,b){cuppa.enterKey(element,c,b)};cuppa.exitKey=function(a,c,b){$(a).bind("keyup",function(d){if(d.which==27){jQuery(this).blur();c(b)}})};cuppa.keyExit=function(a,c,b){cuppa.exitKey(element,c,b)};cuppa.numberOnly=function(a){$(a).keydown(function(b){if($.inArray(b.keyCode,[46,8,9,27,13,190])!==-1||(b.keyCode==65&&b.ctrlKey===true)||(b.keyCode==67&&b.ctrlKey===true)||(b.keyCode==88&&b.ctrlKey===true)||(b.keyCode>=35&&b.keyCode<=39)){return}if((b.shiftKey||(b.keyCode<48||b.keyCode>57))&&(b.keyCode<96||b.keyCode>105)){b.preventDefault()}})};cuppa.getFormData=function(c,a){if(a==undefined){a=false}var d={};var e=jQuery(c).serialize();e=cuppa.urlDecode(e);e=cuppa.urlToObject(e);if(a){for(var b in e){if(e[b]==""){delete e[b]}}}return e};cuppa.paste=function(b,a){$(b).unbind("paste").bind("paste",function(l){l.preventDefault();if(a){return}var k=$(this).val();var c=$(this)[0].selectionStart;var j=$(this)[0].selectionEnd;var f=k.substr(0,c);var g=k.substr(j,k.length);var h=l.originalEvent.clipboardData.getData("Text");var d=f+h+g;$(this).val(d);$(this).setCursorPosition(c+h.length)})};cuppa.serialize=function(f,g,e){if(g==undefined){g=false}if(e==undefined){e=true}var a=$(f).find("input[type!='button'], textarea, select");var c={};for(var d=0;d<a.length;d++){var b=jQuery(a[d]).attr("name");if(b){if(jQuery(a[d]).attr("type")=="checkbox"){c[b]=(jQuery(a[d]).prop("checked"))?1:0}else{if(jQuery(a[d]).attr("type")=="radio"){c[b]=$("input[name="+b+"]:checked").val()}else{c[b]=jQuery(a[d]).val()}}if(typeof c[b]==="string"){c[b]=cuppa.trim(c[b])}}}if(g&&c){c=cuppa.jsonEncode(c,e)}return c};cuppa.preText=function(c,a){if(!a){var d=jQuery(c).get();for(var b=0;b<d.length;b++){var c=jQuery(d[b]);if($(c).attr("type")==undefined||$(c).attr("type")=="text"||$(c).attr("type")=="password"){if($(c).attr("alt")){jQuery(c).preTextCuppa($(c).attr("alt"))}}}}else{jQuery(c).preTextCuppa(a)}};cuppa.maxlength=function(b,a){jQuery(b).bind("input keyup",function(c){if(a==undefined){a=jQuery(this).attr("maxlength")}if(!!a){var d=$(this).val();if(d.length>a){$(this).val(d.substring(0,a));c.preventDefault()}}})};cuppa.inputFilter=function(b,a){a="["+a+"]";jQuery(b).filter_input_cuppa({regex:a})};cuppa.inputFilterRemove=function(a){jQuery(a).unbind("keypress paste")};cuppa.moneyInput=function(f){var b=jQuery(f).get();for(var d=0;d<b.length;d++){var e=b[d];var c="mask_"+e.id;jQuery("."+c).remove();var g=jQuery(e).clone().get(0);g.item=e;jQuery(g).removeAttr("name").removeAttr("id").removeAttr("class");jQuery(g).attr("id",c);jQuery(g).addClass("number_input_mask "+$(e).attr("class"));jQuery(g).insertBefore(e);jQuery(g).attr("type","input");jQuery(e).attr("type","hidden");function a(k,l){if(k){l=this}var h=jQuery(l).val().split(".");var j=cuppa.moneyToNumber(jQuery(l).val());if(h.length>1&&h[h.length-1]==""){jQuery(l.item).val(j);return}else{if(h.length>1&&parseFloat(h[h.length-1])==0){}}jQuery(l.item).val(j).trigger("change");jQuery(l).val(cuppa.numberToMoney(j))}jQuery(g).bind("input",a);if(jQuery(e).val()){a(null,g)}}};cuppa.date=function(a,b){if(b==undefined){b={}}b.dateFormat="yy-mm-dd";b.changeYear=true;jQuery(function(){jQuery(a).datepicker(b)})};cuppa.selectListMirror=function(a,b){jQuery(a).each(function(f){var c=cuppa.jsonDecode(b,false);var d={};d.list=this;d.input=$("<input type='hidden'></input>");d.input.attr("name",$(this).attr("name"));d.input.attr("id",$(this).attr("id"));d.btn_up=$("<a class='mirror_list_button mirror_list_up'>&#x25B2</a>");d.btn_down=$("<a class='mirror_list_button mirror_list_down'>&#x25BC</a>");$(d.list).after(d.input);$(d.list).after(d.btn_down);$(d.list).after(d.btn_up);$(d.list).removeAttr("name").removeAttr("id");d.mirror=$(d.list).clone();$(d.list).before(d.mirror);$(d.list).find("option").remove();$(d.mirror).unbind("dblclick").bind("dblclick",d,function(j){var h=j.data;var g=$(this).val();if(!$.isArray(g)){g=[g]}$(g).each(function(){var e=$(h.mirror).find("[value="+this+"]").get(0);$(h.list).append(e)});h.update(h)});$(d.list).unbind("dblclick").bind("dblclick",d,function(j){var h=j.data;var g=$(this).val();if(!$.isArray(g)){g=[g]}$(g).each(function(){var e=$(h.list).find("[value="+this+"]").get(0);$(h.mirror).append(e)});h.update(h)});$(d.btn_up).unbind("click").bind("click",d,function(j){var g=$(d.list).find(":selected")[0];var h=$(g).prev();$(h).before(g);d.update(d)});$(d.btn_down).unbind("click").bind("click",d,function(j){var g=$(d.list).find(":selected")[0];var h=$(g).next();$(h).after(g);d.update(d)});$(d.list).addClass("cuppa_select_list");$(d.mirror).addClass("cuppa_select_mirror");$(c).each(function(){try{var g=$(d.mirror).find("option[value="+this+"]");g.removeAttr("selected");$(d.list).append(g)}catch(e){}});d.update=function(g){var e=$(g.list).find("option");var h=new Array();$(e).each(function(j){h.push($(this).attr("value"))});if(h.length){g.input.val(cuppa.jsonEncode(h,false))}else{g.input.val("")}};d.update(d)})};cuppa.autoComplete=function(c,d,a){if(!jQuery.isArray(d)){d=jQuery.parseJSON(d)}if(!a){jQuery(c).autocomplete({source:d})}else{jQuery(c).bind("keydown",function(f){if(f.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).data("autocomplete").menu.active){f.preventDefault()}});jQuery(c).autocomplete({minLength:0,source:function(g,f){f(jQuery.ui.autocomplete.filter(d,e(g.term)))},focus:function(){return false},select:function(g,h){var f=b(this.value);f.pop();f.push(h.item.value);f.push("");this.value=f.join(", ");return false}})}function b(f){return f.split(/,\s*/)}function e(f){return b(f).pop()}};cuppa.autoComplete2=function(c,d,a){if(!jQuery.isArray(d)){d=jQuery.parseJSON(d)}if(!a){jQuery("#"+c).autocomplete({source:d})}else{jQuery("#"+c).bind("keydown",function(f){if(f.keyCode===jQuery.ui.keyCode.TAB&&jQuery(this).data("autocomplete").menu.active){f.preventDefault()}});jQuery("#"+c).autocomplete({minLength:0,source:function(g,f){f(jQuery.ui.autocomplete.filter(d,e(g.term)))},focus:function(){return false},select:function(g,h){var f=b(this.value);f.pop();f.push(h.item.value);f.push("");this.value=f.join(", ");return false}})}function b(f){return f.split(/,\s*/)}function e(f){return b(f).pop()}};cuppa.tags=function(a,b){b=b||{};b["forbidden-chars"]=b["forbidden-chars"]||[];b["tag-char"]=b["tag-char"]||"";$(a).each(function(e,f){var c=cuppa.replace($(f).val(),",",", ");var d=$('<div id="'+cuppa.unique("tag_")+'">'+c+"</div>");$(f).before(d);$(f).attr("type","hidden");$(d)[0].item=f;$(d).tagging(b);$(d).on("add:after",function(){var g=$(this).tagging("getTags");$(this.item).val(g.join(","))});$(d).on("remove:after",function(){var g=$(this).tagging("getTags");$(this.item).val(g.join(","))})})};cuppa.autoLoadSelect=function(l,c,h,m,g,e,d,j,b,f,a){var a=a||{};a.nested_column=a.nested_column||"";a.parent_column=a.parent_column||"";l=cuppa.jsonDecode(l,false);var k=null;if(b==undefined){b=true}jQuery(c).bind("change",function(q){var n="<option value=''>Loading...</option>";jQuery(h).html(n).trigger("change");var o={};o["function"]="loadSelectInfo";o.table=m;o.value=g;o.label=e;o.condition=d;o.compare_column=j;o.compare_column_value=jQuery(c).val();o.nested_column=a.nested_column;o.parent_column=a.parent_column;if(k){k.abort()}if(f){k=jQuery.ajax({url:f,type:"POST",data:o,success:p})}else{k=jQuery.ajax({url:"classes/ajax/Functions.php",type:"POST",data:o,success:p})}function p(r){r=cuppa.jsonDecode(r);if(r){jQuery(h).html("");for(var s=0;s<r.length;s++){if(b){var t="<option value='"+r[s][g]+"'>";t+=r[s][e];t+="</option>";jQuery(h).append(t)}else{if(!b&&r[s][g]){var t="<option value='"+r[s][g]+"'>";t+=r[s][e];t+="</option>";jQuery(h).append(t)}}}}else{var t="<option value=''> - - </option>";jQuery(h).html(t)}if(l&&jQuery(h).find("option[value="+l+"]").length){jQuery(h).val(l).trigger("change")}else{jQuery(h).val("").trigger("change")}}}).trigger("change")};cuppa.range=function(c,b,a){if(b!=undefined){jQuery(c).bind("change",function(){if(jQuery(this).val()<b){jQuery(this).val(b)}})}if(a!=undefined){jQuery(c).bind("change",function(){if(jQuery(this).val()>a){jQuery(this).val(a)}})}jQuery(c).each(function(){if(jQuery(this).val()<b){jQuery(this).val(b);jQuery(this).trigger("change")}if(jQuery(this).val()>a){jQuery(this).val(a);jQuery(this).trigger("change")}})};cuppa.select={};cuppa.select.setValue=function(b,a,c){a=jQuery(a).find("option");if(c){for(i=0;i<a.length;i++){if(a[i].text==b){a[i].selected=true;break}}}else{for(i=0;i<a.length;i++){if(a[i].value==b){a[i].selected=true;break}}}};cuppa.select.setLike=function(value,item,is_label){item=jQuery(item).find("option");value=tu_GetURLFriendly(value);value=eval("/"+value+"/i");if(is_label){for(i=0;i<item.length;i++){if(tu_GetURLFriendly(item[i].text).search(value)!=-1){item[i].selected=true;break}}}else{for(i=0;i<item.length;i++){if(tu_GetURLFriendly(item[i].value).search(value)!=-1){item[i].selected=true;break}}}};cuppa.moneyField=function(f){var b=jQuery(f).get();for(var d=0;d<b.length;d++){var e=b[d];var c="mask_"+e.id+d;jQuery("."+c).remove();var g=jQuery(e).clone().get(0);g.item=e;jQuery(g).removeAttr("name").removeAttr("id").removeAttr("class");jQuery(g).addClass(c);jQuery(g).insertBefore(e);jQuery(g).attr("type","text");jQuery(g).val(cuppa.numberToMoney(jQuery(e).val()));jQuery(e).attr("type","hidden").css("visibility","hidden");function a(k,l){if(k){l=this}var h=jQuery(l).val().split(".");var j=cuppa.moneyToNumber(jQuery(l).val());if(h.length>1&&h[h.length-1]==""){jQuery(l.item).val(j);return}else{if(h.length>1&&parseFloat(h[h.length-1])==0){jQuery(l.item).val(j);return}}jQuery(l.item).val(j).trigger("change");jQuery(l).val(cuppa.numberToMoney(j))}jQuery(g).bind("change",a).bind("input",a);a(null,g)}};cuppa.checkbox={};cuppa.checkbox.selectAll=function(b,a){if(!a){a="input[type='checkbox']"}if(b!==true&&b!==false){b=jQuery(b).prop("checked")}if(b){jQuery("body "+a).prop("checked",true)}else{jQuery("body "+a).prop("checked",false)}};cuppa.checkbox.getSelectedItems=function(a,d){selectedItems=Array();if(!a){a=".id"}var c=jQuery("body").find(a);for(var b=0;b<c.length;b++){if(c[b].checked){if(d){selectedItems.push(jQuery(c[b]).val())}else{selectedItems.push(c[b])}}}if(selectedItems.length==0){return null}return selectedItems};cuppa.checkbox.selectAllToggle=function(b,a){cuppa.checkbox.selectAll(jQuery(b).prop("checked"),a)};cuppa.dropdown=function(d,c,b){if(!b){b={}}if(b.scrollClose==undefined){b.scrollClose=true}if(b.stopProgation==undefined){b.stopProgation=false}if(!b.mouse_action_open){b.mouse_action_open="click"}if(!b.mouse_action_close){b.mouse_action_close="click"}if(!b.gapX){b.gapX=0}if(!b.gapY){b.gapY=0}jQuery(d).css({display:"none",opacity:0});jQuery(c).bind(b.mouse_action_open,a);function a(){if($(c).hasClass("dropDownOpen")){e();return}if(b.alignX||b.alignY){var g=cuppa.dimentions(c);var f=cuppa.dimentions(d);if(b.alignX=="center"){$(d).css("right","auto");$(d).css("position","fixed");$(d).css("left",g.x-(f.width-g.width)*0.5+b.gapX)}if(b.alignY=="top"){$(d).css("bottom","auto");$(d).css("position","fixed");$(d).css("top",g.y3+g.height+b.gapY)}}jQuery(c).addClass("dropDownOpen");jQuery(d).addClass("dropDownOpen");TweenMax.to(d,0.2,{alpha:1,display:"block"});jQuery(window).unbind(b.mouse_action_close,e);TweenMax.delayedCall(0.1,function(){jQuery(window).bind(b.mouse_action_close,e)});if(b.scrollClose){jQuery(window).unbind("scroll",e).bind("scroll",e)}if(b.stopProgation){jQuery(d).bind("click",function(h){h.stopPropagation()})}}function e(){jQuery(c).removeClass("dropDownOpen");jQuery(window).unbind(b.mouse_action_close,e);jQuery(window).unbind("scroll",e);TweenMax.killTweensOf(d);TweenMax.to(d,0.2,{alpha:0,display:"none"})}};cuppa.fileUpload=function(b,c,f,a,e,j,h,g,d){if(d==undefined){d=true}jQuery(function(){if(!f){f="js/jquery_file_upload/server/php/"}if(!c){c="upload_files"}if(!g){g="Select file"}var l=jQuery(b).get();for(var o=0;o<l.length;o++){var p=l[o];var k="file_"+new Date().getTime();var n='<div class="button_upload">';n+='<span class="text_button">'+g+"</span>";n+='<div class="progress_bar"></div>';n+='<input class="file_type" type="file" />';n+="</div>";var m=jQuery(n);var q=jQuery(".assets .info_upload").clone();jQuery(p).after(m);jQuery(p).trigger("created");var r={};r.jqXHR;r.item_reference=p;r.file_reference=m;r.file_input=jQuery(m).find(".file_type").get(0);r.url=f;r.formData={path:c,unique_name:a,resize_width:e,resize_height:j,crop:h,compress:d};r.dataType="json";r.dropZone=m;r.add=function(u,t){var s=jQuery(this).data()[Object.keys(jQuery(this).data())[0]].options;s.jqXHR=t.submit()},r.send=function(v,u){var t=u.files[0].name;var s=jQuery(this).data()[Object.keys(jQuery(this).data())[0]].options;s.file_name=t;jQuery(s.item_reference).val("");jQuery(s.file_reference).find(".progress_bar").width(0);jQuery(s.file_reference).removeClass("info_upload_error");jQuery(s.item_reference).removeClass("error");jQuery(s.item_reference).removeAttr("placeholder");jQuery(s.item_reference).trigger("send",s);jQuery(s.item_reference).trigger("init",s)};r.progressall=function(v,u){var t=jQuery(this).data()[Object.keys(jQuery(this).data())[0]].options;var s=Math.round((u.loaded/u.total)*100);jQuery(t.file_reference).find(".progress_bar").width(s+"%");jQuery(t.item_reference).trigger("progress",[{options:t,progress:s}])};r.done=function(w,v){var u=jQuery(this).data()[Object.keys(jQuery(this).data())[0]].options;if(v.result.files[0].error){var t=v.result.files[0].error;jQuery(u.file_reference).find(".progress_bar").width(0);jQuery(u.file_reference).addClass("info_upload_error");jQuery(u.item_reference).addClass("error");jQuery(u.item_reference).attr("placeholder",v.result.files[0].error)}else{jQuery(u.file_reference).find(".progress_bar").width("100%");var s="media/"+c+"/"+v.result.files[0].name;jQuery(u.item_reference).val(s);jQuery(u.item_reference).trigger("change",u);jQuery(u.item_reference).trigger("complete",u)}};r.fail=function(v,u){var s=jQuery(this).data()[Object.keys(jQuery(this).data())[0]].options;jQuery(s.info_reference).find(".progress").css("display","none");jQuery(s.info_reference).find(".message").css("display","block").html("Server error, show console message");jQuery(s.info_reference).addClass("info_upload_error");jQuery(s.item_reference).val("Server error, show console message");try{console.log(u.messages)}catch(t){}};jQuery(jQuery(m).find(".file_type")).fileupload(r)}})};cuppa.tinyMCE=function(a,b,l,f,k,h,e,j){var c=jQuery(a).get(0);var d={};d.name=a;d.folder_path=e;d.document_base_url=k;d.elements=jQuery(c).attr("name");d.mode="exact";d.theme="advanced";d.schema="html5";d.paste_text_sticky=true;d.paste_text_sticky_default=true;d.width=b;d.height=l;d.plugins="autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,insertdatetime,preview,media,searchreplace,print,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,visualblocks, imgmap,imgupload,richeditor";d.theme_advanced_buttons1="newdocument,undo,redo,search,replace,|,pastetext,pasteword,visualblocks,selectall,removeformat,|,richeditor,fullscreen,preview,|,template,attribs,styleprops,spellchecker,iespell,|,sub,sup,charmap,|,help";d.theme_advanced_buttons2="bold,italic,underline,strikethrough,|,justifyleft,justifycenter,justifyright,justifyfull,fontselect,styleselect,forecolor,backcolor,|,bullist,numlist,|,outdent,indent";d.theme_advanced_buttons3="tablecontrols,|,hr,visualaid,|,insertlayer,moveforward,movebackward,absolute,|,link,unlink,anchor,imgupload,image,imgmap,imagemap";d.theme_advanced_toolbar_location="top";d.theme_advanced_toolbar_align="left";d.theme_advanced_statusbar_location="bottom";d.theme_advanced_resizing_use_cookie=false;d.theme_advanced_resizing=true;d.content_css=f;d.theme_advanced_font_sizes="";d.theme_advanced_fonts="Arial,Verdana";if(j){d.theme_advanced_fonts+=","+j}d.font_size_style_values="";for(var g=6;g<=100;g++){if(g>6){d.theme_advanced_font_sizes+=",";d.font_size_style_values+=","}d.theme_advanced_font_sizes+=g+"px";d.font_size_style_values+=g+"px"}d.object_resizing=true;d.selector="p";d.force_br_newlines=false;d.force_p_newlines=true;d.forced_root_block="";d.theme_advanced_source_editor_wrap=false;d.verify_html=false;d.convert_urls=false;d.gecko_spellcheck=true;d.inline_styles=true;d.valid_elements="*[*]";d.valid_children="a[span|b|i|u|sup|sub|img|#text|tr|td|label|div]";d.cleanup=false;d.validate_children=false;d.dialog_type="window";d.template_external_list_url=h;d.file_browser_callback="cuppa.fileManagerCallBack";d.visualblocks_default_state=true;d.oninit=function(n){try{tinyMCE.activeEditor.controlManager.setActive("spellchecker",true);tinymce.execCommand("mceSpellCheck",true)}catch(m){}};d.theme_advanced_link_targets="lightbox=lightbox;iframe=iframe;youtube=youtube";d.setup=function(m){m.onChange.add(function(n){var o=n.getContent();o=cuppa.replace(o,'<br data-mce-bogus="1">',"");jQuery("textarea#"+n.id).val(o)});m.onEnd=function(){cuppa.removeEventListener("#"+m.id,m.onEnd);jQuery(".mceListBoxMenu").remove()};cuppa.addRemoveListener("#"+m.id,m.onEnd)};c.tiny_config=d;tinyMCE.init(d)};cuppa.tinyMCEUpdate=function(){var c=tinyMCE.editors;for(var a=0;a<c.length;a++){try{c[a].onChange.listeners[0].cb(c[a])}catch(b){}}};cuppa.tinyMCEDestroy=function(){for(var a=tinyMCE.editors.length-1;a>=0;a--){var b=tinyMCE.editors[a];try{b.destroy()}catch(c){}try{b.remove()}catch(c){}}tinyMCE.editors=[]};cuppa.fileManagerCallBack=function(c,a,b,d){var a=tinyMCE.documentBaseURL+"js/filemanager/dialog.php?type=2&popup=1&field_id="+c;tinyMCE.activeEditor.windowManager.open({file:a,width:1000,height:600,resizable:"yes",inline:"yes",close_previous:"no",popup_css:false},{window:d});return false};cuppa.aceEditor=function(b,d,a,f){if(d==undefined){d=800}if(a==undefined){a=300}if(f==undefined){f="html"}var e=jQuery(b).get(0);jQuery(e).css("display","none");var g=jQuery("<div></div>");jQuery(g).css({width:d,height:a,border:"1px solid #C6C6C6",overflow:"hidden"});jQuery(g).attr("id",cuppa.unique());jQuery(e).after(g);ace.require("ace/ext/language_tools");var c=ace.edit(jQuery(g).attr("id"));c.getSession().setMode("ace/mode/"+f);c.setOptions({enableBasicAutocompletion:true,enableSnippets:true,enableLiveAutocompletion:true});c.getSession().setUseWorker(false);c.setTheme("ace/theme/twilight");c.addEventListener("change",function(h){jQuery(e).val(c.getSession().getValue())});c.getSession().setValue(jQuery(e).val())};cuppa.jsonEditor=function(a,b){jQuery(function(){var f=jQuery(a).get(0);var g=jQuery("<div></div>");g.attr("id",a.replace("#","").replace(".","")+"_json");g.width(jQuery(f).width()).height(jQuery(f).height());jQuery(f).before(g);jQuery(f).css("display","none");var c={};c.name=a.replace("#","").replace(".","");c.base64_encode=b;c.div_reference=g;c.text_area=f;c.search=false;c.history=true;c.mode="text";c.modes=["form","text","tree","view"];c.change=function(){var h=cuppa.getData(this.text_area,"editor");if(this.base64_encode=="1"){jQuery(this.text_area).val(cuppa.jsonEncode(h.get(),true))}else{jQuery(this.text_area).val(cuppa.jsonEncode(h.get(),false))}};var d=cuppa.jsonDecode(jQuery(f).val(),false);if(b=="1"){d=cuppa.jsonDecode(jQuery(f).val(),true)}var e=new jsoneditor.JSONEditor(g[0],c,d);cuppa.setData(c.text_area,"editor",e)})};cuppa.optionSelector=function(b,a){a=a||{};a["default"]=a["default"]||null;a.toggle=a.toggle||false;b=$(b).get();$(b).on("click",{elements:b,options:a},function(d){var c=true;if(d.data.options.toggle&&$(this).hasClass("selected")){c=false}$(d.data.elements).removeClass("selected");if(c){$(this).addClass("selected")}});if(a["default"]){$(b).removeClass("selected");$(a["default"]).addClass("selected")}};cuppa.inputStyle=function(d){var a=jQuery(d).get();for(var b=0;b<a.length;b++){if(jQuery(a[b]).attr("type")==undefined||jQuery(a[b]).attr("type")=="text"){var c='<div class="input_cuppa">';c+='<div class="input_cuppa_wrapper">';c+='<div class="input_cuppa_left"></div>';c+='<div class="input_cuppa_right">&nbsp;</div>';c+="</div>";c+="</div>";c=jQuery(c);if(jQuery(a[b]).attr("id")){jQuery(c).attr("id","cuppa_"+jQuery(a[b]).attr("id"))}jQuery(c).width(jQuery(a[b]).width());jQuery(c).height(jQuery(a[b]).height());jQuery(c).find(".input_cuppa_text").html(jQuery(a[b]).find("option:selected").text());jQuery(a[b]).before(c);jQuery(c).append(a[b]);jQuery(a[b]).bind("change",function(f){jQuery(this).parent().find(".input_cuppa_text").html(jQuery(this).find("option:selected").text())})}}};cuppa.checkboxStyle=function(d){var a=jQuery(d).get();for(var b=0;b<a.length;b++){if(jQuery(a[b]).attr("type")=="checkbox"){var c='<div class="checkbox_cuppa">';c+='<input type="hidden"  />';c+="</div>";c=jQuery(c);if(jQuery(a[b]).attr("id")){jQuery(c).attr("id","cuppa_"+jQuery(a[b]).attr("id"))}jQuery(a[b]).before(c);jQuery(c).find("input").attr("id",jQuery(a[b]).attr("id"));jQuery(c).find("input").attr("class",jQuery(a[b]).attr("class"));jQuery(c).find("input").attr("name",jQuery(a[b]).attr("name"));if(jQuery(a[b]).attr("name")){jQuery(c).addClass("cuppa_"+jQuery(a[b]).attr("name"))}if(jQuery(a[b]).is(":checked")){jQuery(c).find("input").val(1);jQuery(c).addClass("checkbox_cuppa_checked")}jQuery(a[b]).remove();jQuery(c).bind("click",function(f){jQuery(this).removeClass("error");if(jQuery(this).find("input").val()=="1"){jQuery(this).find("input").val(0);jQuery(this).removeClass("checkbox_cuppa_checked")}else{jQuery(this).find("input").val(1);jQuery(this).addClass("checkbox_cuppa_checked")}})}}};cuppa.radioStyle=function(d){var a=jQuery(d).get();for(var b=0;b<a.length;b++){if(jQuery(a[b]).attr("type")=="radio"){var c='<div class="radio_cuppa">';c+="</div>";c=jQuery(c);c=jQuery(c);if(jQuery(a[b]).attr("id")){jQuery(c).attr("id","cuppa_"+jQuery(a[b]).attr("id"))}jQuery(c).attr("group",jQuery(a[b]).attr("name"));if(jQuery(a[b]).attr("name")){jQuery(c).addClass("cuppa_"+jQuery(a[b]).attr("name"))}jQuery(a[b]).before(c).css("opacity",0);if(jQuery(a[b]).is(":checked")){jQuery(c).addClass("radio_cuppa_checked")}jQuery(c).append(a[b]);jQuery(c).bind("click",function(f){jQuery("*[group="+jQuery(this).attr("group")+"]").removeClass("error").removeClass("radio_cuppa_checked");jQuery(this).addClass("radio_cuppa_checked");jQuery(this).find("input").prop("checked","checked")})}}};cuppa.selectStyle=function(f,e){var a=jQuery(f).not("[size]").get();if(e){cuppa.selectStyleDestroy(f);cuppa.selectStyle(f);return}for(var b=0;b<a.length;b++){var c=$(a[b]).parent();if(!$(c).hasClass("select_cuppa")){var d='<div class="select_cuppa">';d+='<div class="select_cuppa_wrapper">';d+='<div class="select_cuppa_left"></div>';d+='<div class="select_cuppa_right"></div>';d+="</div>";d+='<div class="select_cuppa_text">Text</div>';d+="</div>";d=jQuery(d);if(jQuery(a[b]).attr("id")){jQuery(d).attr("id","cuppa_"+jQuery(a[b]).attr("id"))}if(jQuery(a[b]).attr("name")){jQuery(d).addClass("cuppa_"+jQuery(a[b]).attr("name"))}if(jQuery(a[b]).width()>0){jQuery(d).css("width",jQuery(a[b]).width()+5)}if(jQuery(a[b]).attr("width")){jQuery(d).width(jQuery(a[b]).attr("width"))}if(jQuery(a[b]).attr("style")){jQuery(d).attr("style",jQuery(a[b]).attr("style"))}jQuery(d).find(".select_cuppa_text").html(jQuery(a[b]).find("option:selected").text());jQuery(a[b]).before(d);jQuery(d).append(a[b]);jQuery(a[b]).bind("change",function(g){if(jQuery(this).find("option:selected").text()){jQuery(this).parent().find(".select_cuppa_text").html(jQuery(this).find("option:selected").text())}});jQuery(a[b]).css("opacity",0)}}};cuppa.selectStyleDestroy=function(a){$(a).each(function(){var b=$(this).parent();if($(b).hasClass("select_cuppa")){$(this).css("opacity","");$(b).after(this);$(b).remove()}})}; cuppa.percent=function(e,b,a,d){var c=(e-b)/(a-b);if(d){c=1-c}return c};cuppa.random=function(b,a){return Math.floor(Math.random()*(a-b))+b};cuppa.randomColor=function(b){if(b==undefined){b=Math.random()}var a="rgba("+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+Math.floor(Math.random()*255)+","+b+")";return a};cuppa.newDimensions=function(d,a,b,c,g,f){if(!g){g=false}d=parseFloat(d);a=parseFloat(a);b=parseFloat(b);c=parseFloat(c);var e=1+((b-d)/d);if(f=="width"){var e=1+((b-d)/d);b=d*e;c=a*e;return{width:b,height:c,scale:e}}else{if(f=="height"){var e=1+((c-a)/a);b=d*e;c=a*e;return{width:b,height:c,scale:e}}}if(!g){if(a*e>=c){b=d*e;c=a*e}else{e=1+((c-a)/a);b=d*e;c=a*e}}else{if(a*e<=c){b=d*e;c=a*e}else{e=1+((c-a)/a);b=d*e;c=a*e}}return{width:b,height:c,scale:e}};cuppa.cover=function(f,c,e,d,h){var a=jQuery(f);for(var g=0;g<a.length;g++){f=a[g];var j=jQuery(f).parent();if(c){var b=cuppa.newDimensions(jQuery(f).width(),jQuery(f).height(),jQuery(j).width(),jQuery(j).height(),true,d);if(e){TweenMax.to(f,0,{scale:b.scale});jQuery(f).css("position","absolute");jQuery(f).css("left",(jQuery(j).width()-jQuery(f).width())*0.5);jQuery(f).css("top",(jQuery(j).height()-jQuery(f).height())*0.5)}else{jQuery(f).width(b.width).height(b.height);jQuery(f).css("position","absolute");jQuery(f).css("left",(jQuery(j).width()-jQuery(f).width())*0.5);jQuery(f).css("top",(jQuery(j).height()-jQuery(f).height())*0.5)}}else{var b=cuppa.newDimensions(jQuery(f).width(),jQuery(f).height(),jQuery(j).width(),jQuery(j).height(),false,d);if(e){TweenMax.to(f,0,{scale:b.scale});jQuery(f).css("position","absolute");jQuery(f).css("left",(jQuery(j).width()-jQuery(f).width())*0.5);jQuery(f).css("top",(jQuery(j).height()-jQuery(f).height())*0.5)}else{jQuery(f).width(b.width+1).height(b.height+1);jQuery(f).css("position","absolute");jQuery(f).css("left",(jQuery(j).width()-jQuery(f).width())*0.5);jQuery(f).css("top",(jQuery(j).height()-jQuery(f).height())*0.5)}}if(h){cuppa.alignAbsolute(f,h)}}};cuppa.sumWidth=function(e,c){var a=jQuery(e);var d=0;for(var b=0;b<a.length;b++){var f=cuppa.dim(a[b]);d+=f.width4;if(c){break}}return d};cuppa.unique=function(b){var a=Math.round(Math.random()*9999)+new Date().valueOf();if(b){a=b+a}return a};cuppa.dim=function(a){return cuppa.dimentions(a)};cuppa.dimentions=function(d){if(d==undefined||$(d).is("body")){d="body"}var f={width:0,height:0,x:0,x2:0,y:0,y2:0};try{var b=jQuery(d).parents();var a=new Array();for(var c=0;c<b.length;c++){if(jQuery(b[c]).css("display")=="none"){a.push(b[c])}}jQuery(a).css({visibility:"hidden",display:"block"});f.x=jQuery(d).offset().left;f.y=jQuery(d).offset().top;f.x2=jQuery(d).position().left;f.y2=jQuery(d).position().top;f.x3=f.x-cuppa.statusScrollPixel().x;f.y3=f.y-cuppa.statusScrollPixel().y;f.width=jQuery(d).outerWidth();f.height=jQuery(d).outerHeight();f.width2=jQuery(d).width();f.height2=jQuery(d).height();f.width3=jQuery(d).innerWidth();f.height3=jQuery(d).innerHeight();f.width4=jQuery(d).outerWidth(true);f.height4=jQuery(d).outerHeight(true);f.scrollWidth=jQuery(d).get(0).scrollWidth;f.scrollHeight=jQuery(d).get(0).scrollHeight;f.clientWidth=jQuery(d).get(0).clientWidth;f.clientHeight=jQuery(d).get(0).clientHeight;jQuery(a).css({visibility:"visible",display:"none"})}catch(e){}return f};cuppa.ajustWidth=function(b,d,a){if(a==undefined){a=0}function c(){var e=cuppa.sumWidth(d,true);var g=parseFloat(jQuery(b).css("max-width"));if(g>jQuery(b).parent().width()||!g){g=jQuery(b).parent().width()}var f=Math.floor(g/e);if(f>jQuery(d).length){f=jQuery(d).length}jQuery(b).width(e*f+a)}jQuery(window).unbind("resize",c).bind("resize",c);c()};cuppa.ajustDimentions=function(a,b,c){this.params=c||{};this.params.containers=$(a).get();this.params.elements="> "+b;if(this.params.width==undefined){this.params.width=true}if(this.params.height==undefined){this.params.height=true}if(this.params.autoUpdate==undefined){this.params.autoUpdate=true}this.ajust=function(n){var h=this.params;if(n){h=n.data}for(var l=0;l<h.containers.length;l++){var f=h.containers[l];var d=$(f).find(h.elements);if(h.width){if(h.width=="sum"){var p=null;var g=0;for(var k=0;k<d.length;k++){var m=cuppa.dim(d[k]);if(p!==m.x){g+=m.width;p=m.x}}$(f).width(g)}else{var g=cuppa.getCSSValues(d,"width","max",true);$(f).width(g)}}if(h.height){if(h.height=="sum"){var o=null;var q=0;for(var k=0;k<d.length;k++){var m=cuppa.dim(d[k]);if(o!==m.y){q+=m.height;o=m.y}}$(f).height(q)}else{var q=cuppa.getCSSValues(d,"height","max",true);$(f).height(q)}}}};if(this.params.autoUpdate){jQuery(window).unbind("resize",this.ajust).bind("resize",this.params,this.ajust)}this.ajust()};cuppa.boundingBox=function(b,f,e){if(e==undefined){e=cuppa.getRotationDegrees(b)}if(f==undefined){f=0}if(e>=360){e=e-Math.floor(e/360)*360}if(e>=180&&e<360){e=e-180}if(e<=-360){e=e+Math.floor(e*-1/360)*360}if(e<=-180){e=e+180}if(e<0){e=180+e}e=(e/180)*Math.PI;var d=jQuery(b).width()+f;var a=jQuery(b).height()+f;e=((e>Math.PI*0.5&&e<Math.PI*1)||(e>Math.PI*1.5&&e<Math.PI*2))?Math.PI-e:e;var c={};c.width=Math.sin(e)*a+Math.cos(e)*d;c.height=Math.sin(e)*d+Math.cos(e)*a;c.x=-(c.width-jQuery(b).width())*0.5;c.y=-(c.height-jQuery(b).height())*0.5;return c};cuppa.boundingSkewBox=function(c,f,e,d){if(f==undefined){f=0}if(e==undefined){e=0}if(d==undefined){d=0}var b=jQuery(c).width();var i=jQuery(c).height();var h=cuppa.getOpositeDimention(i,f);var g=cuppa.getOpositeDimention(b,e);var a={};a.width=Math.abs(h)+b;a.height=Math.abs(g)+i;a.x=(jQuery(c).width()-a.width)*0.5;a.y=(jQuery(c).height()-a.height)*0.5;return a};cuppa.getRotationDegrees=function(g){var f=jQuery(g).css("-webkit-transform")||jQuery(g).css("-moz-transform")||jQuery(g).css("-ms-transform")||jQuery(g).css("-o-transform")||jQuery(g).css("transform");if(f!=="none"){var e=f.split("(")[1].split(")")[0].split(",");var d=e[0];var c=e[1];var h=Math.round(Math.atan2(c,d)*(180/Math.PI))}else{var h=0}return(h<0)?h+=360:h};cuppa.arcParams=function(k,j,g,h,b){function c(o,n,l,m){var d=(m-90)*Math.PI/180;return{x:o+(l*Math.cos(d)),y:n+(l*Math.sin(d))}}var a=c(k,j,g,b);var e=c(k,j,g,h);var f=b-h<=180?"0":"1";var i=["M",a.x,a.y,"A",g,g,0,f,0,e.x,e.y,"L",k,j,"L",a.x,a.y].join(" ");return i};cuppa.getOpositeDimention=function(g,i){i=(i/180)*Math.PI;var e=i;var d=g;var h=90;var k=180-h-Math.abs(e);var j=d/Math.cos(e);var f=d*Math.tan(e);return f};cuppa.getAge=function(e){var d=new Date();var b=new Date(e);var c=d.getFullYear()-b.getFullYear();var a=d.getMonth()-b.getMonth();if(a<0||(a===0&&d.getDate()<b.getDate())){c--}return c}; cuppa.mediaManager={};cuppa.mediaManager.load=function(c,d,b,e,a){if(d==undefined){d=="audio"}if(d=="audio"){var f="<audio></audio>";f=jQuery(f)[0];jQuery(f).addClass(b).attr("id",b).css("display","none");if(e){jQuery(f).attr("autoplay","autoplay")}if(a){jQuery(f).attr("loop","loop")}jQuery(f).attr("src",c);jQuery("body").append(f)}else{var f="<video></video>";f=jQuery(f)[0];jQuery(f).addClass(b).attr("id",b);if(e){jQuery(f).attr("autoplay","autoplay")}if(a){jQuery(f).attr("loop","loop")}jQuery(f).attr("src",c);return f}};cuppa.mediaManager.play=function(b,c){if(b){try{jQuery(b).each(function(){if(c){this.loop=true}else{this.loop=false}this.play()})}catch(e){}}else{var a=jQuery("body").find("audio, video");for(var d=0;d<a.length;d++){this.play(a[d],c)}}};cuppa.mediaManager.seek=function(a,d,e,b){try{jQuery(a).each(function(){this.currentTime=d})}catch(c){}if(e){this.play(a,b)}};cuppa.mediaManager.stop=function(b){if(b){try{jQuery(b).each(function(){this.pause();this.currentTime=0})}catch(d){}}else{var a=jQuery("body").find("audio, video");for(var c=0;c<a.length;c++){this.stop(a[c])}}};cuppa.mediaManager.pause=function(b){if(b){try{jQuery(b).each(function(){this.pause()})}catch(d){}}else{var a=jQuery("body").find("audio, videos");for(var c=0;c<a.length;c++){this.pause(a[c])}}};cuppa.mediaManager.setVolume=function(c,e,f,b){if(c){jQuery(c).each(function(){var h=this;if(!h){return}if(e>1){e=1}if(e<0){e=0}if(h.paused){this.play(this)}if(f){if(b!=undefined){h.volume=b}var i={value:e};var g={duration:f,easing:"swing",step:function(){h.volume=this.value}};jQuery({value:h.volume}).animate(i,g)}else{h.volume=e}})}else{var a=jQuery("body").find("audio, video");for(var d=0;d<a.length;d++){this.setVolume(a[d],e,f,b)}}};cuppa.mediaManager.change=function(a,e){if(!e){return}jQuery(a).find("source").remove();jQuery(a).removeAttr("src");var b=e.split(",");for(var c=0;c<b.length;c++){var d='<source src="'+jQuery.trim(b[c])+'"></source>';jQuery(a).append(d)}this.play(a)};cuppa.mediaManager.alphaProcess=function(g){jQuery(g).css("display","none");var b=jQuery("<div></div>");jQuery(b).css("position","relative");b.addClass("video_alpha_wrapper");jQuery(jQuery(g).parent()).append(b);jQuery(b).append(jQuery(g));if(jQuery(g).attr("autoplay")){cuppa.mediaManager.play(g,jQuery(g)[0].loop)}var a=jQuery("<canvas id='buffer' class='buffer'></canvas>");jQuery(a).css("display","none");var j=jQuery("<canvas id='output' class='output'></canvas>");jQuery(b).append(a);jQuery(b).append(j);cuppa.canvasSize(a,jQuery(g).width(),jQuery(g).height());cuppa.canvasSize(j,jQuery(g).width(),jQuery(g).height()*0.5);var d=jQuery(g).get(0);var h=jQuery(a).get(0).getContext("2d");var f=jQuery(j).get(0).getContext("2d");var e=jQuery(j).width();var i=jQuery(j).height();function c(){h.drawImage(d,0,0);var n=h.getImageData(0,0,e,i),o=n.data,l=h.getImageData(0,i,e,i).data;for(var m=3,k=o.length;m<k;m=m+4){o[m]=l[m-1]}f.putImageData(n,0,0,0,0,e,i)}cuppa.addEnterFrame(c,60,"video_alpha")}; cuppa.shop={};cuppa.shop.ajaxSession;cuppa.shop.products=new Array();cuppa.shop.init=function(){if(cuppa.getCookie("cuppa_shop")){cuppa.shop.products=cuppa.jsonDecode(cuppa.getCookie("cuppa_shop"))}jQuery(cuppa.shop).trigger("change")};cuppa.addEventListener("ready",cuppa.shop.init,document,"shop");cuppa.shop.autoAdd=function(b,a){var c=cuppa.getFormData(b);if(c){cuppa.shop.add(c,a)}};cuppa.shop.add=function(g,c){g=cuppa.shortObject(g);if(g.amount){delete g.amount}if(!c){c=1}var f={info:g,amount:parseFloat(c)};var d=null;for(var b=0;b<cuppa.shop.products.length;b++){var a=cuppa.shop.products[b].info;if(cuppa.jsonEncode(g)==cuppa.jsonEncode(cuppa.shop.products[b].info)){d=cuppa.shop.products[b];break}}if(d){var e=parseFloat(d.amount)+parseFloat(c);if(e>parseFloat(g.stock)){trace("Maximum stock exceeded");return}d.amount=parseFloat(d.amount)+parseFloat(c)}else{if(parseFloat(c)>g.stock){trace("Maximum stock exceeded");return}cuppa.shop.products.push(f)}cuppa.setCookie("cuppa_shop",cuppa.jsonEncode(cuppa.shop.products));jQuery(cuppa.shop).trigger("change");cuppa.shop.updateSession()};cuppa.shop.updateProducts=function(a,b){if(a==undefined){a=true}if(b==undefined){b=cuppa.shop.products}cuppa.shop.products=b;cuppa.setCookie("cuppa_shop",cuppa.jsonEncode(cuppa.shop.products));if(a){jQuery(cuppa.shop).trigger("change")}};cuppa.shop.changeAmount=function(c,d){var a=cuppa.shop.products[c].amount;if(d==a){return a}var b=d-a;cuppa.shop.add(cuppa.shop.products[c].info,b);cuppa.setCookie("cuppa_shop",cuppa.jsonEncode(cuppa.shop.products));return cuppa.shop.products[c].amount};cuppa.shop.updateSession=function(){return;if(cuppa.shop.ajaxSession){cuppa.shop.ajaxSession.abort()}var a={};a["function"]="setSessionValue";a.name="cuppa_shop";a.value=cuppa.getCookie("cuppa_shop");cuppa.shop.ajaxSession=jQuery.ajax({url:"administrator/classes/ajax/Functions.php",type:"POST",data:a})};cuppa.shop.remove=function(a){cuppa.shop.products.splice(a,1);cuppa.setCookie("cuppa_shop",cuppa.jsonEncode(cuppa.shop.products));jQuery(cuppa.shop).trigger("change");cuppa.shop.updateSession()};cuppa.shop.end=function(){cuppa.removeEventGroup("shop")};cuppa.addRemoveListener(".shop",cuppa.shop.end); cuppa.paginatorInfinity=function(a){a=a||{};this.limit=a.limit||5;this.quantity=this.limit;this.target=a.target||"body";this.percent=a.percent||0.85;this.callback=a.callback;this.working=false;this.page=0;this.onScroll=function(d,c){if(d){c=d.data}if(c.working){return}var b=cuppa.statusScrollPercent(c.target);if(b.y<c.percent){return}c.working=true;c.callback()};this.init=function(b){if(b==undefined){b=true}this.page=0;this.limit=this.page+","+this.quantity;this.working=true;if(b){this.callback()}$(window).unbind("scroll",this.onScroll).bind("scroll",this,this.onScroll);this.onScroll(null,this)};this.restart=function(){this.init()};this.update=function(){this.page++;this.limit=(this.page*this.quantity)+","+this.quantity;this.working=false};this.enable=function(){this.update()};this.disable=function(){this.working=false}};cuppa.fullScreen=function(a){if(a==undefined){a=true}if(a){if(document.documentElement.requestFullscreen){document.documentElement.requestFullscreen()}else{if(document.documentElement.msRequestFullscreen){document.documentElement.msRequestFullscreen()}else{if(document.documentElement.mozRequestFullScreen){document.documentElement.mozRequestFullScreen()}else{if(document.documentElement.webkitRequestFullscreen){document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}}}}jQuery(document).trigger("fullscreen")}else{if(document.exitFullscreen){document.exitFullscreen()}else{if(document.msExitFullscreen){document.msExitFullscreen()}else{if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else{if(document.webkitExitFullscreen){document.webkitExitFullscreen()}}}}jQuery(document).trigger("normalscreen")}};cuppa.columns=function(a,b,c){if(!c){c={}}if(c.autoUpdate==undefined){c.autoUpdate=true}if(c.desface==undefined){c.desface=0.5}if(b==undefined){b=".column"}this.params=c;this.params.containers=$(a).get();this.params.columns="> "+b;this.ajust=function(o){var h=this.params;if(o){h=o.data}for(var n=0;n<h.containers.length;n++){var d=h.containers[n];var g=$(d).find(h.columns);$(g).css("box-sizing","border-box");$(g).css("float","left");var l=cuppa.dimentions(d);var q=l.width2-h.desface;var f=0;var p=jQuery(g).filter("[width]");for(var k=0;k<p.length;k++){var m=$(p[k]).attr("width");$(p[k]).css("width",m);f+=cuppa.dimentions(p[k]).width}var p=jQuery(g).not("[width]");for(var k=0;k<p.length;k++){$(p[k]).css("width",(q-f)/p.length)}if(h.height=="parent"){$(g).outerHeight(l.height)}else{if(h.height=="max"){$(g).height("auto");$(g).outerHeight(cuppa.getCSSValues(g,"height","max",true))}else{if(h.height=="min"){$(g).height("auto");$(g).outerHeight(cuppa.getCSSValues(g,"height","min",true))}}}}};this.ajust();if(c.autoUpdate){jQuery(window).unbind("resize",this.ajust).bind("resize",this.params,this.ajust)}};cuppa.slider=function(a,b){return cuppa.iteration(a,b)};cuppa.iteration=function(a,c){if(c==undefined){c={}}if(c.duration==undefined){c.duration=4}if(c.index==undefined){c.index=0}var b=c;b.elements=$(a).get();b.parent=$(a).parent();b.direction=1;b.element=b.elements[b.index];if(!b.elements.length){return}b.points_string=b.points;b.points=$(b.points).get();b.point=$(b.points).get(b.index);$(b.points).removeClass("selected");$(b.point).addClass("selected");b.callback(b,true);b["function"]=function(e,d){e.index++;if(d!=undefined){e.index=d}if(e.index>=e.elements.length){e.index=0}e.direction=1;e.element=e.elements[e.index];e.point=$(b.points).get(e.index);$(e.points).removeClass("selected");$(e.point).addClass("selected");e.callback(e);TweenMax.killTweensOf(e["function"]);TweenMax.killTweensOf(e.tweenMax);if(e.elements.length<2){return}e.tweenMax=new TweenMax.delayedCall(e.duration,e["function"],[e])};if(b.elements.length>1){b.tweenMax=new TweenMax.delayedCall(b.duration,b["function"],[b])}b.nextBack=function(g){var d=g.data[0];var f=g.data[1];d.index+=f;d.direction=f;if(d.index<0){d.index=d.elements.length-1}else{if(d.index>=d.elements.length){d.index=0}}d.element=d.elements[d.index];d.point=$(b.points).get(d.index);$(d.points).removeClass("selected");$(d.point).addClass("selected");d.callback(b);TweenMax.killTweensOf(d["function"]);d.tweenMax=new TweenMax.delayedCall(d.duration,d["function"],[d])};if(b.elements.length>1&&c.nextButton){$(c.nextButton).unbind("click",b.nextBack).bind("click",[b,1],b.nextBack)}else{$(c.nextButton).css("display","none")}if(b.elements.length>1&&c.backButton){$(c.backButton).unbind("click",b.nextBack).bind("click",[b,-1],b.nextBack)}else{$(c.backButton).css("display","none")}b.pointClick=function(f){var d=f.data[0];d["function"](d,$(this).index(b.points_string))};$(b.points).unbind("click",b.pointClick).bind("click",[b],b.pointClick);b.change=function(e){var d=this;d["function"](this,e)};b.next=function(){var d=this;d.index++;d.direction=1;if(d.index<0){d.index=d.elements.length-1}else{if(d.index>=d.elements.length){d.index=0}}d.element=d.elements[d.index];d.point=$(b.points).get(d.index);$(d.points).removeClass("selected");$(d.point).addClass("selected");d.callback(b);TweenMax.killTweensOf(d["function"]);d.tweenMax=new TweenMax.delayedCall(d.duration,d["function"],[d])};b.back=function(d){if(d==undefined){d=this}d.index--;d.direction=-1;if(d.index<0){d.index=d.elements.length-1}else{if(d.index>=d.elements.length){d.index=0}}d.element=d.elements[d.index];d.point=$(b.points).get(d.index);$(d.points).removeClass("selected");$(d.point).addClass("selected");d.callback(b);TweenMax.killTweensOf(d["function"]);d.tweenMax=new TweenMax.delayedCall(d.duration,d["function"],[d])};b.distroy=function(d){TweenMax.killTweensOf(this["function"])};return b};cuppa.changePage=function(b,c,a){jQuery(c+" #page").val(b);jQuery(c+" #page_item_start").val(parseInt(b)*parseInt(a));jQuery(c).submit()};cuppa.tooltip=function(b,a){if(b==undefined){b=".tooltip"}if(a==undefined){a={}}if(a.show==undefined){a.show=true}if(a.hide==undefined){a.hide=false}if(a.track==undefined){a.track=true}if(a.position==undefined){a.position={my:"left bottom-10",at:"left top"}}if(a.className==undefined){a.className=""}jQuery(b).tooltip({tooltipClass:"tooltip_style "+a.className,content:function(){return jQuery(this).attr("title")},show:a.show,hide:a.hide,track:a.track,position:a.position,open:function(d,c){jQuery(".ui-tooltip").append("<div class='ui-tooltip-arrow'></div>");jQuery(".ui-tooltip").css("z-index",cuppa.maxZIndex()+1)}})};cuppa.alias=function(e,c,d){d=d.split(",");c+="_field";jQuery("#"+c).bind("change",b).bind("input",b);function b(){jQuery("#"+e).val(cuppa.urlFriendly(cuppa.trim(jQuery("#"+c).val())))}function a(){jQuery("#"+e).removeClass("error");for(var f=0;f<d.length;f++){if(jQuery("#"+e).val()==d[f]){jQuery("#"+e).addClass("error");return false}}return true}jQuery.validator.addMethod("unique_alias",a,"");if(!jQuery("#"+e).val()){jQuery("#"+c).trigger("change")}jQuery("#"+e).addClass("unique_alias").bind("change",a).bind("input",a)};cuppa.grid=function(b){var a=["height_percent_","h_p_","h_w_","height_windows_"];$(b).each(function(){var d=$(this).attr("class");if(d){for(var c=0;c<a.length;c++){if(d.search(a[c])!=-1){cuppa.grid_ajust(null,this)}}}})};cuppa.grid_ajust=function(c,b){if(c){b=c.data}var a=$(b).attr("class").split(" ");$(a).each(function(){if(this.search("height_percent_")!=-1||this.search("h_p_")!=-1){var d=this.substr(String("height_percent_").length);if(!d){d=this.substr(String("h_p_").length)}if(d){$(b).height($(b).width()*(d/100))}}else{if(this.search("h_w_")!=-1||this.search("height_windows_")!=-1){var d=this.substr(String("height_windows_").length);if(!d){d=this.substr(String("h_w_").length)}if(d){$(b).height($(window).height()*(d/100))}}}})};cuppa.rangeDate=function(a,b){jQuery(a).datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,changeYear:true,showButtonPanel:true,onClose:function(c){jQuery(b).datepicker("option","minDate",c)}});jQuery(b).datepicker({dateFormat:"yy-mm-dd",numberOfMonths:1,changeYear:true})};cuppa.ga=function(a){cuppa.googleTrack(a)};cuppa.googleTrack=function(b){var c={};if(cuppa.managerURL.path){c.page=cuppa.managerURL.path}if(b){if($.type(b)=="string"){c.page=b}else{if(b.path){c.page=b.path}if(b.title){c.title=b.title}}}try{ga("send","pageview",c)}catch(a){}};cuppa.googleTrakingHandler=function(b,a){cuppa.googleTrack(a)};cuppa.share=function(c,a,h,i,e){if(!a){a=window.location.href}if(c=="facebook"){var f="https://www.facebook.com/sharer/sharer.php?u="+a;var b=500;var j=500;var d=(screen.width/2)-(b/2);var g=50;window.open(f,"","width="+b+",height="+j+",top="+g+",left="+d+"")}else{if(c=="facebook_app"){FB.ui({method:"feed",link:a,name:h,description:i,picture:e})}else{if(c=="twitter"){var f="http://twitter.com/home?&status=";if(h){f+=h+", "}f+=a;var b=500;var j=500;var d=(screen.width/2)-(b/2);var g=50;window.open(f,"","width="+b+",height="+j+",top="+g+",left="+d+"")}else{if(c=="pinterest"){var f="http://pinterest.com/pin/create/button/?";if(a){f+="&url="+a}if(i){f+="&description="+i}if(e){f+="&media="+e}var b=500;var j=500;var d=(screen.width/2)-(b/2);var g=50;window.open(f,"","width="+b+",height="+j+",top="+g+",left="+d+"")}else{if(c=="google"){var f="https://plus.google.com/share?";if(a){f+="&url="+a}var b=600;var j=600;var d=(screen.width/2)-(b/2);var g=50;window.open(f,"","width="+b+",height="+j+",top="+g+",left="+d+"")}else{if(c=="linkedin"||c=="linkedIn"){var f="https://www.linkedin.com/shareArticle?mini=true";if(a){f+="&url="+a}if(h){f+="&title="+h}if(i){f+="&summary="+i}var b=600;var j=500;var d=(screen.width/2)-(b/2);var g=50;window.open(f,"","width="+b+",height="+j+",top="+g+",left="+d+"")}}}}}}};cuppa.facebook=function(c,a,b){if(a==undefined){a="public_profile"}if(b==undefined){b=""}this.appId=c;this.channelURL=b;this.access_token;this.uid;this.user_info;this.user_fields="id,name,gender,picture";this.perms=a;this.autoLogin=false;this.loginStatus=function(e,d){if(d){this.user_fields=d}if(e==undefined){e=true}this.autoLogin=e;FB.getLoginStatus(this.resultLoginStatus)};this.resultLoginStatus=function(d){if(d.status==="connected"){FB.facebookHelp.access_token=d.authResponse.accessToken;FB.facebookHelp.userInfo()}else{if(FB.facebookHelp.autoLogin){try{FB.facebookHelp.initSession()}catch(e){}}else{jQuery(FB.facebookHelp).trigger("no_connected")}}};this.initSession=function(d){if(d){this.user_fields=d}try{FB.login(this.resultIinitSession,{scope:this.perms})}catch(e){}};this.resultIinitSession=function(d){if(d.authResponse){FB.facebookHelp.access_token=d.authResponse.accessToken;FB.facebookHelp.ui=d.authResponse.userID;FB.facebookHelp.userInfo()}else{jQuery(FB.facebookHelp).trigger("no_connected")}};this.userInfo=function(d){if(d){this.user_fields=d}FB.api("/me?fields="+this.user_fields,this.resultUserInfo)};this.resultUserInfo=function(d){FB.facebookHelp.uid=d.id;FB.facebookHelp.user_info=d;jQuery(FB.facebookHelp).trigger("connected")};FB.init({appId:c,status:true,cookie:true,oauth:true,xfbml:true,channelURL:this.channelURL});(function(f){var e,g="facebook-jssdk";if(f.getElementById(g)){return}e=f.createElement("script");e.id=g;e.async=true;e.src="//connect.facebook.net/en_EN/all.js";f.getElementsByTagName("head")[0].appendChild(e)}(document));FB.facebookHelp=this};cuppa.shake=function(a){TweenMax.to(a,0.1,{left:10});TweenMax.to(a,0.1,{delay:0.1,left:-10});TweenMax.to(a,0.1,{delay:0.2,left:0})};cuppa.button3D=function(b,e,d,c,a){if(!a){a="horizontal"}if(c==undefined){c=0.2}if(a=="horizontal"){TweenMax.to(jQuery(b).find(e),0,{rotationY:0,transformPerspective:600,transformOrigin:"right center"});TweenMax.to(jQuery(b).find(d),0,{rotationY:90,transformPerspective:600,transformOrigin:"left center"});jQuery(b).bind("mouseenter",function(){if(jQuery(this).hasClass("selected")){return}var g=jQuery(this).find(e);var f=jQuery(this).find(d);TweenMax.to(g,c,{rotationY:-90,x:-jQuery(g).width(),ease:Cubic.easeInOut});TweenMax.to(f,c,{rotationY:0,x:-jQuery(f).width(),ease:Cubic.easeInOut})});jQuery(b).bind("mouseleave",function(){var g=jQuery(this).find(e);var f=jQuery(this).find(d);TweenMax.to(g,c,{rotationY:0,x:0,ease:Cubic.easeInOut});TweenMax.to(f,c,{rotationY:90,x:0,ease:Cubic.easeInOut})})}else{TweenMax.to(jQuery(b).find(e),0,{rotationX:0,transformPerspective:600,transformOrigin:"center bottom"});TweenMax.to(jQuery(b).find(d),0,{rotationX:-90,transformPerspective:600,transformOrigin:"top center"});jQuery(b).bind("mouseenter",function(){if(jQuery(this).hasClass("selected")){return}var g=jQuery(this).find(e);var f=jQuery(this).find(d);TweenMax.to(g,c,{rotationX:90,y:-jQuery(g).height(),ease:Cubic.easeInOut});TweenMax.to(f,c,{rotationX:0,y:-jQuery(f).height(),ease:Cubic.easeInOut})});jQuery(b).bind("mouseleave",function(){var g=jQuery(this).find(e);var f=jQuery(this).find(d);TweenMax.to(g,c,{rotationX:0,y:0,ease:Cubic.easeInOut});TweenMax.to(f,c,{rotationX:-90,y:0,ease:Cubic.easeInOut})})}};cuppa.google={};cuppa.google.loginButton="";cuppa.google.clientId="";cuppa.google.apiKey="";cuppa.google.scopes="";cuppa.google.data;cuppa.google.token;cuppa.google.init=function(a,d,c,b){cuppa.google.clientId=a;cuppa.google.apiKey=d;cuppa.google.scopes=c;cuppa.google.loginButton=b;$.getScript("https://apis.google.com/js/client.js?onload=googleClientLoad")};var googleClientLoad=function(){gapi.client.setApiKey(cuppa.google.apiKey);window.setTimeout(cuppa.google.checkAuth,1)};cuppa.google.checkAuth=function(){gapi.auth.authorize({client_id:cuppa.google.clientId,scope:cuppa.google.scopes,immediate:true},cuppa.google.handleAuthResult)};cuppa.google.login=function(a){gapi.auth.authorize({client_id:cuppa.google.clientId,scope:cuppa.google.scopes,immediate:false},cuppa.google.handleAuthResult);return false};cuppa.google.handleAuthResult=function(a){if(a&&!a.error){cuppa.google.data=a;cuppa.google.token=a.access_token;$(cuppa.google).trigger("logged",cuppa.google.data);$(cuppa.google.loginButton).css("display","none")}else{$(cuppa.google.loginButton).css("display","").bind("click",cuppa.google.login)}};cuppa.google.CHANNELS_SERVICE_URL="https://www.googleapis.com/youtube/v3/channels";cuppa.google.VIDEOS_UPLOAD_SERVICE_URL="https://www.googleapis.com/upload/youtube/v3/videos?uploadType=resumable&part=snippet";cuppa.google.VIDEOS_SERVICE_URL="https://www.googleapis.com/youtube/v3/videos";cuppa.google.INITIAL_STATUS_POLLING_INTERVAL_MS=15*1000;cuppa.google.uploadVideo=function(d,e,c){if(e==undefined){e=new Date().getTime()+"_"+Math.ceil(Math.random()*99999)}var b=$(d).get(0).files[0];if(!b){var b=$(d).get(0)}var a={snippet:{title:e,description:c,categoryId:22}};$.ajax({url:cuppa.google.VIDEOS_UPLOAD_SERVICE_URL,method:"POST",contentType:"application/json",headers:{Authorization:"Bearer "+cuppa.google.token,"x-upload-content-length":b.size,"x-upload-content-type":b.type},data:JSON.stringify(a)}).done(function(g,h,f){cuppa.google.resumableVideo({url:f.getResponseHeader("Location"),file:b,start:0})})};cuppa.google.resumableVideo=function(a){var b=$.ajax({url:a.url,method:"PUT",contentType:a.file.type,headers:{"Content-Range":"bytes "+a.start+"-"+(a.file.size-1)+"/"+a.file.size},xhr:function(){var c=$.ajaxSettings.xhr();if(c.upload){c.upload.addEventListener("progress",function(f){if(f.lengthComputable){var d=Math.round(100*f.loaded/f.total);$(cuppa.google).trigger("youtube_upload_progress",[f.loaded,f.total,d])}},false)}return c},processData:false,data:a.file});b.done(function(c){var d=c.id;$(cuppa.google).trigger("youtube_upload_complete",[d]);cuppa.google.checkVideoStatus(d,cuppa.google.INITIAL_STATUS_POLLING_INTERVAL_MS)})};cuppa.google.checkVideoStatus=function(b,a){$.ajax({url:cuppa.google.VIDEOS_SERVICE_URL,method:"GET",headers:{Authorization:"Bearer "+cuppa.google.token},data:{part:"status,processingDetails,player",id:b}}).done(function(d){var c=d.items[0].status.uploadStatus;var e=d.items[0].processingDetails.processingStatus;$(cuppa.google).trigger("youtube_status",[c,e]);if(e=="processing"){setTimeout(function(){cuppa.google.checkVideoStatus(b,a*2)},a)}})};(function(g){var q=this,o,e=false,s=0,m=0,j=0,t=0,f,u,a=null,p=0.9,r=0,i=3,n=0.1,c=0.1;var b=function(w){m+=w;r+=(m-j)*i;j=m};var v=function(){if(r<-(n)||r>n){s=(s+r);if(s>t){s=r=0}else{if(s<f){r=0;s=f}}cuppa.moveContent(o,false,true,0,-s,0);r*=p;if(a){a()}}};var d=function(){if(!e){return}requestAnimFrame(d);v()};var l=function(y){y.preventDefault();y.stopPropagation();var w=y.originalEvent;h(null,o);var z=0;if(y.originalEvent.detail){z=-1*y.originalEvent.detail}if(y.originalEvent.deltaY){z=1*y.originalEvent.deltaY/40}if(y.originalEvent.wheelDelta){z=1*y.originalEvent.wheelDelta/40}var x=z<0?-1:1;if(x!=u){r=0;u=x}s=-cuppa.scrollPixelStatus(o).y;b(z)};window.requestAnimFrame=(function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(w){window.setTimeout(w,1000/60)}})();var k=function(){var w=[],x=null,y=30;return function(C){if(C==0){return C}if(x!=null){return C*x}var z=Math.abs(C);outer:do{for(var B=0;B<w.length;++B){if(z<=w[B]){w.splice(B,0,z);break outer}}w.push(z)}while(false);var A=y/w[Math.floor(w.length/3)];if(w.length==500){x=A}return C*A}}();var h=function(x,w){if(x){w=x.data.container}if(g(w).prop("tagName")=="BODY"){w="html"}f=cuppa.dim(w).clientHeight-cuppa.dim(w).scrollHeight};g.fn.smoothWheel=function(){var w=jQuery.extend({},arguments[0]);g(this)[0].smoothWheel=w;return this.each(function(x,y){if(!("ontouchstart" in window)){o=g(this);o.unbind("mousewheel").bind("mousewheel",l);o.unbind("DOMMouseScroll").bind("DOMMouseScroll",l);if(g(o).is("body")){g(window).unbind("resize",h).bind("resize",{container:o},h)}m=j=cuppa.scrollPixelStatus(o).y;s=-m;h(null,o);if(w.onRender){a=w.onRender}if(w.remove){log("122","smoothWheel","remove","");e=false;o.unbind("mousewheel",l);o.unbind("DOMMouseScroll",l)}else{if(!e){e=true;d()}}}})};g.fn.smoothWheelRemove=function(){o=g(this);o.unbind("mousewheel");o.unbind("DOMMouseScroll")}})(jQuery);$.fn.setCursorPosition=function(a){this.each(function(c,d){if(a==undefined){a=$(d).val().length}if(d.setSelectionRange){d.setSelectionRange(a,a)}else{if(d.createTextRange){var b=d.createTextRange();b.collapse(true);b.moveEnd("character",a);b.moveStart("character",a);b.select()}}});return this};$.fn.selectRange=function(b,a){return this.each(function(){if(b==undefined){b=0}if(a==undefined){a=$(this).val().length}if(this.setSelectionRange){this.focus();this.setSelectionRange(b,a)}else{if(this.createTextRange){var c=this.createTextRange();c.collapse(true);c.moveEnd("character",a);c.moveStart("character",b);c.select()}}})};(function(a){a.fn.extend({preTextCuppa:function(b){if(b==undefined){return}return this.each(function(){if(!cuppa.trim(a(this).val())||a(this).val()==b){a(this).addClass("preText").val(b)}a(this).focus(function(){if(b==a(this).val()){a(this).removeClass("preText").val("")}});a(this).blur(function(){if(cuppa.trim(a(this).val())==""){a(this).addClass("preText").val(b)}})})}})})(jQuery);(function(a){a.fn.extend({filter_input_cuppa:function(b){var d={regex:".",negkey:false,live:false,events:"keypress paste"};var b=a.extend(d,b);function e(j){var f=(j.input)?j.input:a(this);if(j.ctrlKey||j.altKey){return}if(j.type=="keypress"){var h=j.charCode?j.charCode:j.keyCode?j.keyCode:0;if(h==8||h==9||h==13||h==35||h==36||h==37||h==39||h==46){if(j.charCode==0&&j.keyCode==h){return true}}var g=String.fromCharCode(h);if(b.negkey&&g==b.negkey){if(f.val().substr(0,1)==g){f.val(f.val().substring(1,f.val().length)).change()}else{f.val(g+f.val()).change()}return false}var i=new RegExp(b.regex)}else{if(j.type=="paste"){f.data("value_before_paste",j.target.value);setTimeout(function(){e({type:"after_paste",input:f})},1);return true}else{if(j.type=="after_paste"){var g=f.val();var i=new RegExp("^("+b.regex+")+$")}else{return false}}}if(i.test(g)){return true}else{if(typeof(b.feedback)=="function"){b.feedback.call(this,g)}}if(j.type=="after_paste"){f.val(f.data("value_before_paste"))}return false}var c=a.fn.jquery.split(".");if(b.live){if(parseInt(c[0])>=1&&parseInt(c[1])>=7){a(this).on(b.events,e)}else{a(this).live(b.events,e)}}else{return this.each(function(){var f=a(this);if(parseInt(c[0])>=1&&parseInt(c[1])>=7){f.off(b.events).on(b.events,e)}else{f.unbind(b.events).bind(b.events,e)}})}}})})(jQuery);